import{l as Eo,o as So,e as Io,t as _o,c as ae,k as wo,f as We,S as Oo,P as ko,$ as To,E as Po,x as Ao,_ as we,h as No,N as Lo,z as Fo,B as Ro,p as xo,i as Vo,u as $o,F as Do,j as Mo,m as Bo,n as Uo,q as jo,r as Ho,s as Go,v as Wo,y as zo,A as Ko,K as qo,D as Jo,G as Xo,L as Yo,d as Zo,H as Qo,W as er,I as tr}from"./CHZFbgwk.js";import{h as nr,j as me,k as Oe,c as or,e as ht,a as rr,s as Vt,_ as sr,l as ar,m as ir,g as lr,f as Ln,n as cr,i as ur}from"./DWFvC0_9.js";import{I as He,x as L,r as W,A as pt,J as Fn,o as O,D as F,w as _,b as E,n as m,d as U,a as y,K as Ot,C as K,k as Rn,c as V,p as dr,e as hr,E as M,F as te,L as pe,M as ge,t as R,N as pr,G as he,O as ce,P as gr,Q as xn,R as fr,S as Vn,s as mr,j as br,T as vr,U as ze,V as yr,H as Ge,B as Cr,W as Er,X as Sr,Y as Ir,Z as _r,_ as wr}from"./BKHnw-tg.js";import{_ as $n}from"./DlAUqK2U.js";import"./BjEAMk2B.js";/**
 * @license lucide-vue-next v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-vue-next v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Je={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=({size:e,strokeWidth:n=2,absoluteStrokeWidth:t,color:o,iconNode:r,name:s,class:l,...a},{slots:c})=>He("svg",{...Je,width:e||Je.width,height:e||Je.height,stroke:o||Je.stroke,"stroke-width":t?Number(n)*24/Number(e):n,class:["lucide",`lucide-${Or(s??"icon")}`],...a},[...r.map(i=>He(...i)),...c.default?[c.default()]:[]]);/**
 * @license lucide-vue-next v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=(e,n)=>(t,{slots:o})=>He(kr,{...t,iconNode:n,name:e},o);/**
 * @license lucide-vue-next v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=Tr("XIcon",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ar=L({__name:"Code",setup(e){const n=W(),{setup:t,activateModel:o,dispose:r,loading:s}=nr();return pt(async()=>{await t(n.value),o("markdown")}),Fn(r),(l,a)=>{const c=Eo,i=So,d=Io,g=_o;return O(),F(g,{class:"pane-container overflow-hidden bg-background",flex:"~ col","default-value":"markdown","onUpdate:modelValue":a[0]||(a[0]=p=>m(o)(p))},{default:_(()=>[E(d,{class:"relative shrink-0 hstack w-full text-sm h-9 border-b px-4",md:"text-base h-10"},{default:_(()=>[E(c,{class:"absolute left-0 bottom-0 h-0.5 bg-primary rounded-full w-[--radix-tabs-indicator-size] translate-x-[--radix-tabs-indicator-position] transition-[width,transform] duration-300"}),E(i,{value:"markdown",p:"x-2",disabled:m(s)},{default:_(()=>[U("Markdown")]),_:1},8,["disabled"]),E(i,{value:"css",p:"x-4",disabled:m(s)},{default:_(()=>[U("CSS")]),_:1},8,["disabled"])]),_:1}),y("div",{ref_key:"editor",ref:n,"flex-1":""},null,512)]),_:1})}}});var Nr=L({name:"Zoom",props:{scale:{type:Number,required:!0}},setup(e,{slots:n}){const t=W(),o=W(),r=Ot(t),s=Ot(o),l=K(()=>Math.max(0,(r.width.value-e.scale*s.width.value)/2));return()=>He("div",{class:"vue-zoom-container",ref:t,style:{height:"100%"}},[He("div",{class:"vue-zoom",ref:o,style:{width:"fit-content",transformOrigin:"top left",transform:`scale(${e.scale})`,marginLeft:`${l.value}px`}},[n.default()])])}});const gt=e=>(dr("data-v-43c7015f"),e=e(),hr(),e),Lr={class:"pane-container overflow-scroll hide-scrollbar bg-secondary",border:"4 secondary"},Fr={id:"zoom-bar",class:"hstack fixed bottom-4 ml-2 shadow-c rounded-full overflow-hidden text-primary-foreground bg-blue-500",lg:"bottom-auto top-15 opacity-0 hover:opacity-100 focus-within:opacity-100"},Rr=gt(()=>y("span",{"i-lucide:zoom-in":""},null,-1)),xr=[Rr],Vr=gt(()=>y("span",{"i-lucide:zoom-out":""},null,-1)),$r=[Vr],Dr=gt(()=>y("span",{"i-fluent:arrow-autofit-width-20-filled":""},null,-1)),Mr=[Dr],Br=gt(()=>y("span",{"i-fluent:arrow-autofit-height-20-filled":""},null,-1)),Ur=[Br],jr=L({__name:"Preview",setup(e){const n=W(1),t=W(),{width:o,height:r}=Ot(t),{styles:s}=me(),{data:l}=Oe(),{PAPER:a}=ht(),c=()=>{n.value=o.value/a.sizeToPx(s.paper,"w")},i=()=>{n.value=r.value/a.sizeToPx(s.paper,"h")};return Rn(o,c),(d,g)=>{const p=or;return O(),V("div",Lr,[E(m(Nr),{ref_key:"zoom",ref:t,scale:m(n)},{default:_(()=>[E(p,{id:"preview",markdown:m(l).markdown,css:m(l).css,styles:m(s)},null,8,["markdown","css","styles"])]),_:1},8,["scale"]),y("div",Fr,[y("button",{onClick:g[0]||(g[0]=f=>n.value*=1.1),"aria-label":"Zoom in"},xr),y("button",{onClick:g[1]||(g[1]=f=>n.value/=1.1),"aria-label":"Zoom out"},$r),y("button",{onClick:c,"aria-label":"Fit width"},Mr),y("button",{onClick:i,"aria-label":"Fit height"},Ur)])])}}}),Hr=$n(jr,[["__scopeId","data-v-43c7015f"]]),Dn=L({__name:"Separator",props:{orientation:{},decorative:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(e){const n=e,t=K(()=>{const{class:o,...r}=n;return r});return(o,r)=>(O(),F(m(wo),M(t.value,{class:m(ae)("shrink-0 bg-border",n.orientation==="vertical"?"w-px h-full":"h-px w-full",n.class)}),null,16,["class"]))}}),Mn=L({__name:"Tooltip",props:{defaultOpen:{type:Boolean},open:{type:Boolean},delayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},emits:["update:open"],setup(e,{emit:n}){const r=We(e,n);return(s,l)=>(O(),F(m(Oo),pe(ge(m(r))),{default:_(()=>[te(s.$slots,"default")]),_:3},16))}}),Bn=L({inheritAttrs:!1,__name:"TooltipContent",props:{forceMount:{type:Boolean},ariaLabel:{},asChild:{type:Boolean},as:{},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside"],setup(e,{emit:n}){const t=e,o=n,r=K(()=>{const{class:l,...a}=t;return a}),s=We(r,o);return(l,a)=>(O(),F(m(To),null,{default:_(()=>[E(m(ko),M({...m(s),...l.$attrs},{class:m(ae)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t.class)}),{default:_(()=>[te(l.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),Un=L({__name:"TooltipTrigger",props:{asChild:{type:Boolean},as:{}},setup(e){const n=e;return(t,o)=>(O(),F(m(Po),pe(ge(n)),{default:_(()=>[te(t.$slots,"default")]),_:3},16))}}),jn=L({__name:"TooltipProvider",props:{delayDuration:{},skipDelayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(e){const n=e;return(t,o)=>(O(),F(m(Ao),pe(ge(n)),{default:_(()=>[te(t.$slots,"default")]),_:3},16))}}),Gr=y("span",{"i-ic:baseline-save":"","text-base":""},null,-1),Wr=y("span",{class:"flex-1 tracking-widest",text:"xs right muted-foreground"},"⌘ S",-1),zr=L({__name:"Save",setup(e){const{data:n}=Oe(),{styles:t}=me(),o=async()=>{n.resumeId&&await Vt.updateResume({id:n.resumeId,name:n.resumeName,markdown:n.markdown,css:n.css,styles:pr(t)})};return rr("ctrl+s",o),(r,s)=>{const l=we;return O(),F(l,{class:"gap-x-1.5 w-full h-8 justify-start",variant:"ghost",size:"sm",onClick:o},{default:_(()=>[Gr,U(" "+R(r.$t("toolbar.file.save"))+" ",1),Wr]),_:1})}}}),Kr={class:"hstack gap-x-1.5 px-3 w-full h-8"},qr=y("span",{"i-material-symbols:edit-square-outline-rounded":"","text-base":""},null,-1),Jr=y("span",{class:"flex-1 tracking-widest",text:"xs right muted-foreground"},"↵",-1),Xr=L({__name:"Rename",setup(e){const{data:n}=Oe(),t=async o=>{!o||!n.resumeId||(n.resumeName=o,await Vt.updateResume({id:n.resumeId,name:o},!1))};return(o,r)=>{const s=sr;return O(),V(he,null,[y("div",Kr,[qr,U(" "+R(o.$t("toolbar.file.rename"))+" ",1),Jr]),E(s,{class:"text-sm ml-8.5 mt-1","default-value":m(n).resumeName,"submit-mode":"enter","auto-resize":"",onSubmit:r[0]||(r[0]=l=>t(l))},null,8,["default-value"])],64)}}}),Yr=["href"],Zr=L({__name:"IssueLink",props:{issue:{},class:{}},setup(e){const n=e;return(t,o)=>(O(),V("a",{class:ce(m(ae)("hover:underline",n.class)),href:`https://github.com/Renovamen/oh-my-cv/issues/${t.issue}`,target:"_blank",rel:"nofollow noopener"},"#"+R(t.issue),11,Yr))}}),Hn=L({__name:"Alert",props:{class:{},variant:{}},setup(e){const n=e;return(t,o)=>(O(),V("div",{class:ce(m(ae)(m(Qr)({variant:t.variant}),n.class)),role:"alert"},[te(t.$slots,"default")],2))}}),Gn=L({__name:"AlertTitle",props:{class:{}},setup(e){const n=e;return(t,o)=>(O(),V("h5",{class:ce(m(ae)("mb-1 font-bold leading-none tracking-tight",n.class))},[te(t.$slots,"default")],2))}}),Wn=L({__name:"AlertDescription",props:{class:{}},setup(e){const n=e;return(t,o)=>(O(),V("div",{class:ce(m(ae)("text-sm [&_p]:leading-relaxed",n.class))},[te(t.$slots,"default")],2))}}),Qr=No("relative w-full rounded-md border p-3 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-accent/30 text-foreground",destructive:"border-destructive/60 bg-destructive/5 [&>h5]:text-destructive [&>svg]:text-destructive",success:"border-success/60 bg-success/5 [&>h5]:text-success [&>svg]:text-success",info:"border-info/60 bg-info/5 [&>h5]:text-info [&>svg]:text-info"}},defaultVariants:{variant:"default"}}),es=y("span",{"i-mdi:file-pdf":"","text-base":""},null,-1),ts={class:"text-foreground font-normal text-xs"},ns=y("span",{"i-ri:markdown-fill":"","text-base":""},null,-1),os=L({__name:"Export",setup(e){const{data:n}=Oe(),t=K(()=>n.resumeName.trim().replace(/\s+/g,"_")),o=()=>{const s=document.title;document.title=t.value,window.print(),document.title=s},r=()=>{ar(`${t.value}.md`,n.markdown)};return(s,l)=>{const a=we,c=Un,i=Zr,d=Gn,g=Wn,p=Hn,f=Bn,v=Mn,u=jn;return O(),V(he,null,[E(u,{"delay-duration":0},{default:_(()=>[E(v,null,{default:_(()=>[E(c,{"as-child":""},{default:_(()=>[E(a,{class:"gap-x-1.5 w-full h-8 justify-start",variant:"ghost",size:"sm",onClick:o},{default:_(()=>[es,U(" "+R(s.$t("toolbar.file.export_pdf.title")),1)]),_:1})]),_:1}),E(f,{side:"bottom",class:"w-54 p-0 rounded border-destructive/60"},{default:_(()=>[E(p,{variant:"destructive",class:"border-none rounded-none"},{default:_(()=>[E(d,null,{default:_(()=>[U(R(s.$t("toolbar.file.export_pdf.alert.title"))+" ",1),y("span",ts,[U(" ("),E(i,{issue:"13"}),U(", "),E(i,{issue:"16"}),U(") ")])]),_:1}),E(g,{innerHTML:s.$t("toolbar.file.export_pdf.alert.content")},null,8,["innerHTML"])]),_:1})]),_:1})]),_:1})]),_:1}),E(a,{class:"gap-x-1.5 w-full h-8 justify-start",variant:"ghost",size:"sm",onClick:r},{default:_(()=>[ns,U(" "+R(s.$t("toolbar.file.export_md")),1)]),_:1})],64)}}}),rs=L({__name:"Dialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(e,{emit:n}){const r=We(e,n);return(s,l)=>(O(),F(m(Lo),pe(ge(m(r))),{default:_(()=>[te(s.$slots,"default")]),_:3},16))}}),ss=L({__name:"DialogTrigger",props:{asChild:{type:Boolean},as:{}},setup(e){const n=e;return(t,o)=>(O(),F(m(Fo),pe(ge(n)),{default:_(()=>[te(t.$slots,"default")]),_:3},16))}}),as=L({__name:"DialogHeader",props:{class:{}},setup(e){const n=e;return(t,o)=>(O(),V("div",{class:ce(m(ae)("flex flex-col gap-y-1.5 text-center sm:text-left",n.class))},[te(t.$slots,"default")],2))}}),is=L({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const n=e,t=K(()=>{const{class:r,...s}=n;return s}),o=Ro(t);return(r,s)=>(O(),F(m(xo),M(m(o),{class:m(ae)("text-lg font-semibold leading-none tracking-tight",n.class)}),{default:_(()=>[te(r.$slots,"default")]),_:3},16,["class"]))}}),ls=y("span",{class:"sr-only"},"Close",-1),cs=L({__name:"DialogContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:n}){const t=e,o=n,r=K(()=>{const{class:l,...a}=t;return a}),s=We(r,o);return(l,a)=>(O(),F(m(Mo),null,{default:_(()=>[E(m(Vo),{class:"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),E(m($o),M(m(s),{class:m(ae)("fixed left-1/2 top-1/2 z-50 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t.class)}),{default:_(()=>[te(l.$slots,"default"),E(m(Do),{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground"},{default:_(()=>[E(m(Pr),{class:"w-4 h-4"}),ls]),_:1})]),_:3},16,["class"])]),_:3}))}}),us=L({__name:"Input",props:{defaultValue:{},modelValue:{},class:{}},emits:["update:modelValue"],setup(e,{emit:n}){const t=e,r=gr(t,"modelValue",n,{passive:!0,defaultValue:t.defaultValue});return(s,l)=>xn((O(),V("input",{"onUpdate:modelValue":l[0]||(l[0]=a=>Vn(r)?r.value=a:null),class:ce(m(ae)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t.class))},null,2)),[[fr,m(r)]])}});var Ne=(e,n=[])=>({parts:(...t)=>{if(ds(n))return Ne(e,t);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...t)=>Ne(e,[...n,...t]),rename:t=>Ne(t,n),keys:()=>n,build:()=>[...new Set(n)].reduce((t,o)=>Object.assign(t,{[o]:{selector:[`&[data-scope="${Te(e)}"][data-part="${Te(o)}"]`,`& [data-scope="${Te(e)}"][data-part="${Te(o)}"]`].join(", "),attrs:{"data-scope":Te(e),"data-part":Te(o)}}}),{})}),Te=e=>e.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),ds=e=>e.length===0,k=e=>e?"":void 0,hs=e=>e?"true":void 0,fe=e=>typeof e=="object"&&(e==null?void 0:e.nodeType)===Node.ELEMENT_NODE&&typeof(e==null?void 0:e.nodeName)=="string",zn=e=>e.nodeType===Node.DOCUMENT_NODE,ps=e=>e!=null&&e===e.window,gs=e=>e.nodeType!==void 0,fs=e=>e&&gs(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e;function _e(e,n){return!e||!n||!fe(e)||!fe(n)?!1:e===n||e.contains(n)}function ft(e){return zn(e)?e:ps(e)?e.document:(e==null?void 0:e.ownerDocument)??document}function mt(e){var n;return fs(e)?mt(e.host):zn(e)?e.defaultView??window:fe(e)?((n=e.ownerDocument)==null?void 0:n.defaultView)??window:window}var Kn=()=>typeof document<"u";function ms(){const e=navigator.userAgentData;return(e==null?void 0:e.platform)??navigator.platform}var $t=e=>Kn()&&e.test(ms()),bs=e=>Kn()&&e.test(navigator.userAgent),vs=()=>$t(/^Mac/),ys=()=>bs(/firefox\//i),Cs=()=>$t(/mac|iphone|ipad|ipod/i),qn=()=>$t(/iP(hone|ad|od)|iOS/);function Es(e){var n,t,o;return((n=e.composedPath)==null?void 0:n.call(e))??((o=(t=e.nativeEvent)==null?void 0:t.composedPath)==null?void 0:o.call(t))}function Re(e){const n=Es(e);return(n==null?void 0:n[0])??e.target}var Ss=e=>_e(e.currentTarget,Re(e));function Is(e){const n=e.currentTarget;if(!n)return!1;const t=Cs();if(t&&!e.metaKey||!t&&!e.ctrlKey)return!1;const o=n.localName;return o==="a"||o==="button"&&n.type==="submit"||o==="input"&&n.type==="submit"}function _s(e){const n=e.currentTarget;if(!n)return!1;const t=n.localName;return e.altKey?t==="a"||t==="button"&&n.type==="submit"||t==="input"&&n.type==="submit":!1}function ws(e){var n;return((n=e.nativeEvent)==null?void 0:n.isComposing)??e.isComposing}var Jn=e=>typeof e=="object"&&e!==null&&e.nodeType===1,Os=e=>Jn(e)&&e.tagName==="IFRAME";function ks(e){return Jn(e)?e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0:!1}function Ts(e){return parseInt(e.getAttribute("tabindex")||"0",10)<0}var Xn="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false']), details > summary:first-of-type";function Dt(e){return!e||e.closest("[inert]")?!1:e.matches(Xn)&&ks(e)}function Yn(e,n){if(!e)return[];const t=Array.from(e.querySelectorAll(Xn)),o=t.filter(Ps);return o.forEach((r,s)=>{if(Os(r)&&r.contentDocument){const l=r.contentDocument.body,a=Yn(l);o.splice(s,1,...a)}}),!o.length&&n?t:o}function Ps(e){return e!=null&&e.tabIndex>0?!0:Dt(e)&&!Ts(e)}function As(e){const{root:n,getInitialEl:t,filter:o,enabled:r=!0}=e;if(!r)return;let s=null;if(s||(s=typeof t=="function"?t():t),s||(s=n==null?void 0:n.querySelector("[data-autofocus],[autofocus]")),!s){const l=Yn(n);s=o?l.filter(o)[0]:l[0]}return s||n||void 0}var Ns=/auto|scroll|overlay|hidden|clip/;function Ls(e){const n=mt(e),{overflow:t,overflowX:o,overflowY:r,display:s}=n.getComputedStyle(e);return Ns.test(t+r+o)&&!["inline","contents"].includes(s)}function Fs(e){const n=new Set;function t(o){const r=globalThis.requestAnimationFrame(o);n.add(()=>globalThis.cancelAnimationFrame(r))}return t(()=>t(e)),function(){n.forEach(r=>r())}}function x(e){const n=globalThis.requestAnimationFrame(e);return()=>{globalThis.cancelAnimationFrame(n)}}function Rs(e,n){if(!e)return;const{attributes:t,callback:o}=n,r=e.ownerDocument.defaultView||window,s=new r.MutationObserver(l=>{for(const a of l)a.type==="attributes"&&a.attributeName&&t.includes(a.attributeName)&&o(a)});return s.observe(e,{attributes:!0,attributeFilter:t}),()=>s.disconnect()}function xs(e,n){const{defer:t}=n,o=t?x:s=>s(),r=[];return r.push(o(()=>{const s=typeof e=="function"?e():e;r.push(Rs(s,n))})),()=>{r.forEach(s=>s==null?void 0:s())}}function Vs(e,n){const{callback:t}=n;if(!e)return;const o=e.ownerDocument.defaultView||window,r=new o.MutationObserver(t);return r.observe(e,{childList:!0,subtree:!0}),()=>r.disconnect()}function $s(e,n){const{defer:t}=n,o=t?x:s=>s(),r=[];return r.push(o(()=>{const s=typeof e=="function"?e():e;r.push(Vs(s,n))})),()=>{r.forEach(s=>s==null?void 0:s())}}function Xe(e,n){return Array.from((e==null?void 0:e.querySelectorAll(n))??[])}function Zn(e,n){return(e==null?void 0:e.querySelector(n))??null}function Mt(e){const n={getRootNode:t=>{var o;return((o=t.getRootNode)==null?void 0:o.call(t))??document},getDoc:t=>ft(n.getRootNode(t)),getWin:t=>n.getDoc(t).defaultView??window,getActiveElement:t=>n.getRootNode(t).activeElement,isActiveElement:(t,o)=>o===n.getActiveElement(t),getById:(t,o)=>n.getRootNode(t).getElementById(o),setValue:(t,o)=>{if(t==null||o==null)return;const r=o.toString();t.value!==r&&(t.value=o.toString())}};return{...n,...e}}function Ds(e){return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth}function Ms(e,n){const{rootEl:t,...o}=n||{};!e||!t||!Ls(t)||!Ds(t)||e.scrollIntoView(o)}var vt=new WeakMap;function Bs(e,n,t){vt.has(e)||vt.set(e,new Map);const o=vt.get(e),r=o.get(n);if(!r)return o.set(n,t()),()=>{var a;(a=o.get(n))==null||a(),o.delete(n)};const s=t(),l=()=>{s(),r(),o.delete(n)};return o.set(n,l),()=>{o.get(n)===l&&(s(),o.set(n,r))}}function Us(e,n){return e?Bs(e,"style",()=>{const o=e.style.cssText;return Object.assign(e.style,n),()=>{e.style.cssText=o}}):()=>{}}var Qn={border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"},js=1e3/60;function Hs(e,n){const t=e();if(fe(t)&&t.isConnected)return n(t),()=>{};{const o=setInterval(()=>{const r=e();fe(r)&&r.isConnected&&(n(r),clearInterval(o))},js);return()=>clearInterval(o)}}function Gs(e,n){const t=[];return e==null||e.forEach(o=>{const r=Hs(o,n);t.push(r)}),()=>{t.forEach(o=>o())}}function Ws(e){const n=new Map;return function(o,r){const s=o+(r?Object.entries(r).sort((a,c)=>a[0]<c[0]?-1:1).join():"");if(n.has(s))return n.get(s);let l=new e(o,r);return n.set(s,l),l}}var zs=Ws(Intl.NumberFormat);function Ks(e,n,t={}){return zs(n,t).format(e)}var qs=["","kilo","mega","giga","tera"],Js=["","kilo","mega","giga","tera","peta"],Xs=(e,n="en-US",t={})=>{if(isNaN(e))return"";if(e===0)return"0 B";const{unit:o="byte",unitDisplay:r="short"}=t,s=o==="bit"?qs:Js,l=Math.max(0,Math.min(Math.floor(Math.log10(e)/3),s.length-1)),a=s[l]+o,c=r||"short",i=parseFloat((e/Math.pow(1e3,l)).toPrecision(3));return Ks(i,n,{style:"unit",unit:a,unitDisplay:c})};function Ys(e){return new Proxy({},{get(){return e}})}var eo=()=>e=>Array.from(new Set(e));function Zs(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function Qs(e){return/^.*\.[\w]+$/.test(e)}var tn=e=>Zs(e)||Qs(e);function ea(e){if(e)return typeof e=="string"?e:Array.isArray(e)?e.filter(tn).join(","):Object.entries(e).reduce((n,[t,o])=>[...n,t,...o],[]).filter(tn).join(",")}var ta=(e,n)=>e.name===n.name&&e.size===n.size&&e.type===n.type,Ve=e=>e!=null;function na(e,n,t){if(Ve(e.size))if(Ve(n)&&Ve(t)){if(e.size>t)return[!1,"FILE_TOO_LARGE"];if(e.size<n)return[!1,"FILE_TOO_SMALL"]}else{if(Ve(n)&&e.size<n)return[!1,"FILE_TOO_SMALL"];if(Ve(t)&&e.size>t)return[!1,"FILE_TOO_LARGE"]}return[!0,null]}function oa(e,n){if(e&&n){const t=Array.isArray(n)?n:n.split(","),o=e.name||"",r=(e.type||"").toLowerCase(),s=r.replace(/\/.*$/,"");return t.some(l=>{const a=l.trim().toLowerCase();return a.charAt(0)==="."?o.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):r===a})}return!0}function ra(e,n){const t=e.type==="application/x-moz-file"||oa(e,n);return[t,t?null:"FILE_INVALID_TYPE"]}const sa=Symbol(),nn=Object.getPrototypeOf,kt=new WeakMap,aa=e=>e&&(kt.has(e)?kt.get(e):nn(e)===Object.prototype||nn(e)===Array.prototype),ia=e=>aa(e)&&e[sa]||null,on=(e,n=!0)=>{kt.set(e,n)};function la(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function to(e,n){const t=la();return t?(t[e]||(t[e]=n()),t[e]):n()}var yt=e=>typeof e=="object"&&e!==null,Ee=to("__zag__proxyStateMap",()=>new WeakMap),Ue=to("__zag__refSet",()=>new WeakSet),ca=(e=Object.is,n=(i,d)=>new Proxy(i,d),t=i=>yt(i)&&!Ue.has(i)&&(Array.isArray(i)||!(Symbol.iterator in i))&&!(i instanceof WeakMap)&&!(i instanceof WeakSet)&&!(i instanceof Error)&&!(i instanceof Number)&&!(i instanceof Date)&&!(i instanceof String)&&!(i instanceof RegExp)&&!(i instanceof ArrayBuffer),o=i=>{switch(i.status){case"fulfilled":return i.value;case"rejected":throw i.reason;default:throw i}},r=new WeakMap,s=(i,d,g=o)=>{const p=r.get(i);if((p==null?void 0:p[0])===d)return p[1];const f=Array.isArray(i)?[]:Object.create(Object.getPrototypeOf(i));return on(f,!0),r.set(i,[d,f]),Reflect.ownKeys(i).forEach(v=>{const u=Reflect.get(i,v);Ue.has(u)?(on(u,!1),f[v]=u):u instanceof Promise?Object.defineProperty(f,v,{get(){return g(u)}}):Ee.has(u)?f[v]=Se(u,g):f[v]=u}),Object.freeze(f)},l=new WeakMap,a=[1,1],c=i=>{if(!yt(i))throw new Error("object required");const d=l.get(i);if(d)return d;let g=a[0];const p=new Set,f=(N,P=++a[0])=>{g!==P&&(g=P,p.forEach(A=>A(N,P)))};let v=a[1];const u=(N=++a[1])=>(v!==N&&!p.size&&(v=N,b.forEach(([P])=>{const A=P[1](N);A>g&&(g=A)})),g),h=N=>(P,A)=>{const z=[...P];z[1]=[N,...z[1]],f(z,A)},b=new Map,C=(N,P)=>{if(p.size){const A=P[3](h(N));b.set(N,[P,A])}else b.set(N,[P])},T=N=>{var A;const P=b.get(N);P&&(b.delete(N),(A=P[1])==null||A.call(P))},$=N=>(p.add(N),p.size===1&&b.forEach(([A,z],ke)=>{const xe=A[3](h(ke));b.set(ke,[A,xe])}),()=>{p.delete(N),p.size===0&&b.forEach(([A,z],ke)=>{z&&(z(),b.set(ke,[A]))})}),j=Array.isArray(i)?[]:Object.create(Object.getPrototypeOf(i)),J=n(j,{deleteProperty(N,P){const A=Reflect.get(N,P);T(P);const z=Reflect.deleteProperty(N,P);return z&&f(["delete",[P],A]),z},set(N,P,A,z){var en;const ke=Reflect.has(N,P),xe=Reflect.get(N,P,z);if(ke&&(e(xe,A)||l.has(A)&&e(xe,l.get(A))))return!0;T(P),yt(A)&&(A=ia(A)||A);let qe=A;if(!((en=Object.getOwnPropertyDescriptor(N,P))!=null&&en.set))if(A instanceof Promise)A.then(ve=>{Object.assign(A,{status:"fulfilled",value:ve}),f(["resolve",[P],ve])}).catch(ve=>{Object.assign(A,{status:"rejected",reason:ve}),f(["reject",[P],ve])});else{!Ee.has(A)&&t(A)&&(qe=Bt(A));const ve=!Ue.has(qe)&&Ee.get(qe);ve&&C(P,ve)}return Reflect.set(N,P,qe,z),f(["set",[P],A,xe]),!0}});l.set(i,J);const X=[j,u,s,$];return Ee.set(J,X),Reflect.ownKeys(i).forEach(N=>{const P=Object.getOwnPropertyDescriptor(i,N);P.get||P.set?Object.defineProperty(j,N,P):J[N]=i[N]}),J})=>[c,Ee,Ue,e,n,t,o,r,s,l,a],[ua]=ca();function Bt(e={}){return ua(e)}function Tt(e,n,t){const o=Ee.get(e);let r;const s=[],l=o[3];let a=!1;const i=l(d=>{if(s.push(d),t){n(s.splice(0));return}r||(r=Promise.resolve().then(()=>{r=void 0,a&&n(s.splice(0))}))});return a=!0,()=>{a=!1,i()}}function Se(e,n){const t=Ee.get(e),[o,r,s]=t;return s(o,r(),n)}function ee(e){return Ue.add(e),e}function da(e,n){Object.keys(n).forEach(r=>{if(Object.getOwnPropertyDescriptor(e,r))throw new Error("object property already defined");const s=n[r],{get:l,set:a}=typeof s=="function"?{get:s}:s,c={};c.get=()=>l(Se(o)),a&&(c.set=i=>a(o,i)),Object.defineProperty(e,r,c)});const o=Bt(e);return o}function rn(e,n,t){typeof t.value=="object"&&(t.value=Pe(t.value)),!t.enumerable||t.get||t.set||!t.configurable||!t.writable||n==="__proto__"?Object.defineProperty(e,n,t):e[n]=t.value}function Pe(e){if(typeof e!="object")return e;var n=0,t,o,r,s=Object.prototype.toString.call(e);if(s==="[object Object]"?r=Object.create(e.__proto__||null):s==="[object Array]"?r=Array(e.length):s==="[object Set]"?(r=new Set,e.forEach(function(l){r.add(Pe(l))})):s==="[object Map]"?(r=new Map,e.forEach(function(l,a){r.set(Pe(a),Pe(l))})):s==="[object Date]"?r=new Date(+e):s==="[object RegExp]"?r=new RegExp(e.source,e.flags):s==="[object DataView]"?r=new e.constructor(Pe(e.buffer)):s==="[object ArrayBuffer]"?r=e.slice(0):s.slice(-6)==="Array]"&&(r=new e.constructor(e)),r){for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)rn(r,o[n],Object.getOwnPropertyDescriptor(e,o[n]));for(n=0,o=Object.getOwnPropertyNames(e);n<o.length;n++)Object.hasOwnProperty.call(r,t=o[n])&&r[t]===e[t]||rn(r,t,Object.getOwnPropertyDescriptor(e,t))}return r||e}var ha=Object.defineProperty,pa=(e,n,t)=>n in e?ha(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,w=(e,n,t)=>pa(e,typeof n!="symbol"?n+"":n,t);function ga(e){for(;e.length>0;)e.pop();return e}var sn=(e,...n)=>(typeof e=="function"?e(...n):e)??void 0,de=e=>e,fa=()=>{},an=(()=>{let e=0;return()=>(e++,e.toString(36))})(),at=e=>Array.isArray(e),je=e=>!(e==null||typeof e!="object"||at(e)),ma=e=>typeof e=="number"&&!Number.isNaN(e),ie=e=>typeof e=="string",it=e=>typeof e=="function",ba=(e,n)=>Object.prototype.hasOwnProperty.call(e,n);function lt(e){if(!va(e)||e===void 0)return e;const n=Reflect.ownKeys(e).filter(o=>typeof o=="string"),t={};for(const o of n){const r=e[o];r!==void 0&&(t[o]=lt(r))}return t}var va=e=>e&&typeof e=="object"&&e.constructor===Object;function Ct(...e){const n=e.length===1?e[0]:e[1],t=e.length===2?e[0]:!0}function Qe(...e){const n=e.length===1?e[0]:e[1],t=e.length===2?e[0]:!0}function no(e,...n){for(const t of n){const o=lt(t);for(const r in o)je(t[r])?(e[r]||(e[r]={}),no(e[r],t[r])):e[r]=t[r]}return e}function ln(e){return Pe(e)}function oe(e){return ie(e)?{type:e}:e}function ye(e){return e?at(e)?e.slice():[e]:[]}function oo(e){return je(e)&&e.predicate!=null}var ya=()=>!0;function Ut(e,n,t,o){return r=>{var s;return ie(r)?!!((s=e[r])!=null&&s.call(e,n,t,o)):it(r)?r(n,t,o):r.predicate(e)(n,t,o)}}function Ca(...e){return{predicate:n=>(t,o,r)=>e.map(Ut(n,t,o,r)).some(Boolean)}}function Ea(...e){return{predicate:n=>(t,o,r)=>e.map(Ut(n,t,o,r)).every(Boolean)}}function Sa(e){return{predicate:n=>(t,o,r)=>!Ut(n,t,o,r)(e)}}function Ia(...e){return(n,t,o)=>o.state.matches(...e)}var jt={or:Ca,and:Ea,not:Sa,stateIn:Ia};function ro(e,n){return e=e??ya,(t,o,r)=>{if(ie(e)){const s=n[e];return it(s)?s(t,o,r):s}return oo(e)?e.predicate(n)(t,o,r):e==null?void 0:e(t,o,r)}}function Et(e,n){return(t,o,r)=>oo(e)?e.predicate(n)(t,o,r):e}function _a(e){var s,l;const n=e.computed??de({}),t=e.context??de({}),o=e.initial?(l=(s=e.states)==null?void 0:s[e.initial])==null?void 0:l.tags:[],r=Bt({value:e.initial??"",previousValue:"",event:de({}),previousEvent:de({}),context:da(t,n),done:!1,tags:o??[],hasTag(a){return this.tags.includes(a)},matches(...a){return a.includes(this.value)},can(a){return de(this).nextEvents.includes(a)},get nextEvents(){var i,d;const a=((d=(i=e.states)==null?void 0:i[this.value])==null?void 0:d.on)??{},c=(e==null?void 0:e.on)??{};return Object.keys({...a,...c})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return de(r)}function $e(e,n){return(t,o)=>{if(ma(e))return e;if(it(e))return e(t,o);if(ie(e)){const r=Number.parseFloat(e);if(!Number.isNaN(r))return r;if(n){const s=n==null?void 0:n[e];return Qe(s==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${e}\`. It doesn't exist in \`options.delays\``),it(s)?s(t,o):s}}}}function wa(e){return ie(e)?{target:e}:e}function Oa(e,n){return(t,o,r)=>ye(e).map(wa).find(s=>ro(s.guard,n)(t,o,r)??s.target??s.actions)}var ka=class{constructor(e,n){var t,o,r,s,l;w(this,"status","Not Started"),w(this,"state"),w(this,"initialState"),w(this,"initialContext"),w(this,"id"),w(this,"type","machine"),w(this,"activityEvents",new Map),w(this,"delayedEvents",new Map),w(this,"stateListeners",new Set),w(this,"doneListeners",new Set),w(this,"contextWatchers",new Set),w(this,"removeStateListener",fa),w(this,"parent"),w(this,"children",new Map),w(this,"guardMap"),w(this,"actionMap"),w(this,"delayMap"),w(this,"activityMap"),w(this,"sync"),w(this,"options"),w(this,"config"),w(this,"_created",()=>{var c;const a=oe("machine.created");this.executeActions((c=this.config)==null?void 0:c.created,a)}),w(this,"start",a=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=Tt(this.state,()=>{this.stateListeners.forEach(f=>{f(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities(oe("machine.start"),ye(this.config.activities),"machine.start"),this.executeActions(this.config.entry,oe("machine.start"));const c=oe("machine.init"),i=je(a)?a.value:a,d=je(a)?a.context:void 0;d&&this.setContext(d);const g={target:i??this.config.initial},p=this.getNextStateInfo(g,c);return this.initialState=p,this.performStateChangeEffects(this.state.value,p,c),this}),w(this,"setupContextWatchers",()=>{const{watch:a}=this.config;if(!a)return;let c=Se(this.state.context);const i=Tt(this.state.context,()=>{var g;const d=Se(this.state.context);for(const[p,f]of Object.entries(a))(((g=this.options.compareFns)==null?void 0:g[p])??Object.is)(c[p],d[p])||this.executeActions(f,this.state.event);c=d});this.contextWatchers.add(i)}),w(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,oe("machine.stop")),this.executeActions(this.config.exit,oe("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),w(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),w(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(a=>a()),this.contextWatchers.clear()}),w(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(a=>{a.forEach(c=>c())}),this.delayedEvents.clear()}),w(this,"stopActivities",a=>{var c,i;a?((c=this.activityEvents.get(a))==null||c.forEach(d=>d()),(i=this.activityEvents.get(a))==null||i.clear(),this.activityEvents.delete(a)):(this.activityEvents.forEach(d=>{d.forEach(g=>g()),d.clear()}),this.activityEvents.clear())}),w(this,"sendChild",(a,c)=>{const i=oe(a),d=sn(c,this.contextSnapshot),g=this.children.get(d);g||Qe(`[@zag-js/core] Cannot send '${i.type}' event to unknown child`),g.send(i)}),w(this,"stopChild",a=>{this.children.has(a)||Qe(`[@zag-js/core > stop-child] Cannot stop unknown child ${a}`),this.children.get(a).stop(),this.children.delete(a)}),w(this,"removeChild",a=>{this.children.delete(a)}),w(this,"stopChildren",()=>{this.children.forEach(a=>a.stop()),this.children.clear()}),w(this,"setParent",a=>{this.parent=a}),w(this,"spawn",(a,c)=>{const i=sn(a);return c&&(i.id=c),i.type="machine.actor",i.setParent(this),this.children.set(i.id,de(i)),i.onDone(()=>{this.removeChild(i.id)}).start(),de(ee(i))}),w(this,"stopActivity",a=>{var i;if(!this.state.value)return;const c=this.activityEvents.get(this.state.value);(i=c==null?void 0:c.get(a))==null||i(),c==null||c.delete(a)}),w(this,"addActivityCleanup",(a,c,i)=>{var d;a&&(this.activityEvents.has(a)?(d=this.activityEvents.get(a))==null||d.set(c,i):this.activityEvents.set(a,new Map([[c,i]])))}),w(this,"setState",a=>{this.state.previousValue=this.state.value,this.state.value=a;const c=this.getStateNode(a);a==null?ga(this.state.tags):this.state.tags=ye(c==null?void 0:c.tags)}),w(this,"setContext",a=>{a&&no(this.state.context,lt(a))}),w(this,"setOptions",a=>{const c=lt(a);this.actionMap={...this.actionMap,...c.actions},this.delayMap={...this.delayMap,...c.delays},this.activityMap={...this.activityMap,...c.activities},this.guardMap={...this.guardMap,...c.guards}}),w(this,"getStateNode",a=>{var c;if(a)return(c=this.config.states)==null?void 0:c[a]}),w(this,"getNextStateInfo",(a,c)=>{const i=this.determineTransition(a,c),d=!(i!=null&&i.target),g=(i==null?void 0:i.target)??this.state.value,p=this.state.value!==g,f=this.getStateNode(g),u={reenter:!d&&!p&&!(i!=null&&i.internal),transition:i,stateNode:f,target:g,changed:p};return this.log("NextState:",`[${c.type}]`,this.state.value,"---->",u.target),u}),w(this,"getAfterActions",(a,c)=>{let i;return{entry:()=>{i=globalThis.setTimeout(()=>{const d=this.getNextStateInfo(a,this.state.event);this.performStateChangeEffects(this.state.value,d,this.state.event)},c)},exit:()=>{globalThis.clearTimeout(i)}}}),w(this,"getDelayedEventActions",a=>{const c=this.getStateNode(a),i=this.state.event;if(!c||!c.after)return;const d=[],g=[];if(at(c.after)){const p=this.determineTransition(c.after,i);if(!p)return;if(!ba(p,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(p)}`);const v=$e(p.delay,this.delayMap)(this.contextSnapshot,i),u=this.getAfterActions(p,v);return d.push(u.entry),g.push(u.exit),{entries:d,exits:g}}if(je(c.after))for(const p in c.after){const f=c.after[p],u=$e(p,this.delayMap)(this.contextSnapshot,i),h=this.getAfterActions(f,u);d.push(h.entry),g.push(h.exit)}return{entries:d,exits:g}}),w(this,"executeActions",(a,c)=>{var d;const i=Et(a,this.guardMap)(this.contextSnapshot,c,this.guardMeta);for(const g of ye(i)){const p=ie(g)?(d=this.actionMap)==null?void 0:d[g]:g;Ct(ie(g)&&!p,`[@zag-js/core > execute-actions] No implementation found for action: \`${g}\``),p==null||p(this.state.context,c,this.meta)}}),w(this,"executeActivities",(a,c,i)=>{var d;for(const g of c){const p=ie(g)?(d=this.activityMap)==null?void 0:d[g]:g;if(!p){Ct(`[@zag-js/core > execute-activity] No implementation found for activity: \`${g}\``);continue}const f=p(this.state.context,a,this.meta);if(f){const v=ie(g)?g:g.name||an();this.addActivityCleanup(i??this.state.value,v,f)}}}),w(this,"createEveryActivities",(a,c)=>{if(a)if(at(a)){const i=ye(a).find(f=>{const v=f.delay,h=$e(v,this.delayMap)(this.contextSnapshot,this.state.event);return ro(f.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??h!=null});if(!i)return;const g=$e(i.delay,this.delayMap)(this.contextSnapshot,this.state.event);c(()=>{const f=globalThis.setInterval(()=>{this.executeActions(i.actions,this.state.event)},g);return()=>{globalThis.clearInterval(f)}})}else for(const i in a){const d=a==null?void 0:a[i],p=$e(i,this.delayMap)(this.contextSnapshot,this.state.event);c(()=>{const v=globalThis.setInterval(()=>{this.executeActions(d,this.state.event)},p);return()=>{globalThis.clearInterval(v)}})}}),w(this,"setEvent",a=>{this.state.previousEvent=this.state.event,this.state.event=ee(oe(a))}),w(this,"performExitEffects",(a,c)=>{const i=this.state.value;if(i==="")return;const d=a?this.getStateNode(a):void 0;this.stopActivities(i);const g=Et(d==null?void 0:d.exit,this.guardMap)(this.contextSnapshot,c,this.guardMeta),p=ye(g),f=this.delayedEvents.get(i);f&&p.push(...f),this.executeActions(p,c)}),w(this,"performEntryEffects",(a,c)=>{const i=this.getStateNode(a),d=ye(i==null?void 0:i.activities);this.createEveryActivities(i==null?void 0:i.every,v=>{d.unshift(v)}),d.length>0&&this.executeActivities(c,d);const g=Et(i==null?void 0:i.entry,this.guardMap)(this.contextSnapshot,c,this.guardMeta),p=ye(g),f=this.getDelayedEventActions(a);i!=null&&i.after&&f&&(this.delayedEvents.set(a,f==null?void 0:f.exits),p.push(...f.entries)),this.executeActions(p,c),(i==null?void 0:i.type)==="final"&&(this.state.done=!0,this.doneListeners.forEach(v=>{v(this.stateSnapshot)}),this.stop())}),w(this,"performTransitionEffects",(a,c)=>{const i=this.determineTransition(a,c);this.executeActions(i==null?void 0:i.actions,c)}),w(this,"performStateChangeEffects",(a,c,i)=>{this.setEvent(i);const d=c.changed||c.reenter;d&&this.performExitEffects(a,i),this.performTransitionEffects(c.transition,i),this.setState(c.target),d&&this.performEntryEffects(c.target,i)}),w(this,"determineTransition",(a,c)=>{const i=Oa(a,this.guardMap);return i==null?void 0:i(this.contextSnapshot,c,this.guardMeta)}),w(this,"sendParent",a=>{var i;this.parent||Qe("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const c=oe(a);(i=this.parent)==null||i.send(c)}),w(this,"log",(...a)=>{}),w(this,"send",a=>{const c=oe(a);this.transition(this.state.value,c)}),w(this,"transition",(a,c)=>{var f,v;const i=ie(a)?this.getStateNode(a):a==null?void 0:a.stateNode,d=oe(c);if(!i&&!this.config.on){const u=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${a}, \`event\`: ${d.type}`;Ct(u);return}const g=((f=i==null?void 0:i.on)==null?void 0:f[d.type])??((v=this.config.on)==null?void 0:v[d.type]),p=this.getNextStateInfo(g,d);return this.performStateChangeEffects(this.state.value,p,d),p.stateNode}),w(this,"subscribe",a=>(this.stateListeners.add(a),this.status==="Running"&&a(this.stateSnapshot),()=>{this.stateListeners.delete(a)})),w(this,"onDone",a=>(this.doneListeners.add(a),this)),w(this,"onTransition",a=>(this.stateListeners.add(a),this.status==="Running"&&a(this.stateSnapshot),this)),this.config=ln(e),this.options=ln(n??{}),this.id=this.config.id??`machine-${an()}`,this.guardMap=((t=this.options)==null?void 0:t.guards)??{},this.actionMap=((o=this.options)==null?void 0:o.actions)??{},this.delayMap=((r=this.options)==null?void 0:r.delays)??{},this.activityMap=((s=this.options)==null?void 0:s.activities)??{},this.sync=((l=this.options)==null?void 0:l.sync)??!1,this.state=_a(this.config),this.initialContext=Se(this.state.context)}get stateSnapshot(){return de(Se(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const e=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return e.stateSnapshot},get initialContext(){return e.initialContext},get initialState(){var n;return((n=e.initialState)==null?void 0:n.target)??""}}}get meta(){var e;return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:((e=this.initialState)==null?void 0:e.target)??"",getState:()=>this.stateSnapshot,getAction:n=>this.actionMap[n],getGuard:n=>this.guardMap[n]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}},Ht=(e,n)=>new ka(e,n),Ta=(e,n)=>e.indexOf(n)!==-1,Pa=(e,...n)=>e.concat(n),Aa=(e,n)=>e.filter(t=>t!==n),Na=(e,n)=>Ta(e,n)?Aa(e,n):Pa(e,n),cn=e=>(e==null?void 0:e.constructor.name)==="Array",La=(e,n)=>{if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(!Le(e[t],n[t]))return!1;return!0},Le=(e,n)=>{if(Object.is(e,n))return!0;if(e==null&&n!=null||e!=null&&n==null)return!1;if(typeof(e==null?void 0:e.isEqual)=="function"&&typeof(n==null?void 0:n.isEqual)=="function")return e.isEqual(n);if(typeof e=="function"&&typeof n=="function")return e.toString()===n.toString();if(cn(e)&&cn(n))return La(Array.from(e),Array.from(n));if(typeof e!="object"||typeof n!="object")return!1;const t=Object.keys(n??Object.create(null)),o=t.length;for(let r=0;r<o;r++)if(!Reflect.has(e,t[r]))return!1;for(let r=0;r<o;r++){const s=t[r];if(!Le(e[s],n[s]))return!1}return!0},Fa=(e,...n)=>(typeof e=="function"?e(...n):e)??void 0,Ra=()=>{},un=(...e)=>(...n)=>{e.forEach(function(t){t==null||t(...n)})};function ct(e,n,...t){var r;if(e in n){const s=n[e];return typeof s=="function"?s(...t):s}const o=new Error(`No matching key: ${JSON.stringify(e)} in ${JSON.stringify(Object.keys(n))}`);throw(r=Error.captureStackTrace)==null||r.call(Error,o,ct),o}var so=(e,n)=>{var t;try{return e()}catch(o){return o instanceof Error&&((t=Error.captureStackTrace)==null||t.call(Error,o,so)),n==null?void 0:n()}},Gt=e=>Array.isArray(e),xa=e=>e===!0||e===!1,St=e=>!(e==null||typeof e!="object"||Gt(e)),Va=e=>typeof e=="function",$a=e=>e==null,It=(e,n)=>Object.prototype.hasOwnProperty.call(e,n);function Ke(e){if(!Da(e)||e===void 0)return e;const n=Reflect.ownKeys(e).filter(o=>typeof o=="string"),t={};for(const o of n){const r=e[o];r!==void 0&&(t[o]=Ke(r))}return t}var Da=e=>e&&typeof e=="object"&&e.constructor===Object;function Ma(...e){const n=e.length===1?e[0]:e[1],t=e.length===2?e[0]:!0}var Ba=Ne("file-upload").parts("root","dropzone","item","itemDeleteTrigger","itemGroup","itemName","itemPreview","itemPreviewImage","itemSizeText","label","trigger"),re=Ba.build(),G=Mt({getRootId:e=>{var n;return((n=e.ids)==null?void 0:n.root)??`file:${e.id}`},getDropzoneId:e=>{var n;return((n=e.ids)==null?void 0:n.dropzone)??`file:${e.id}:dropzone`},getHiddenInputId:e=>{var n;return((n=e.ids)==null?void 0:n.hiddenInput)??`file:${e.id}:input`},getTriggerId:e=>{var n;return((n=e.ids)==null?void 0:n.trigger)??`file:${e.id}:trigger`},getLabelId:e=>{var n;return((n=e.ids)==null?void 0:n.label)??`file:${e.id}:label`},getItemId:(e,n)=>{var t,o;return((o=(t=e.ids)==null?void 0:t.item)==null?void 0:o.call(t,n))??`file:${e.id}:item:${n}`},getItemNameId:(e,n)=>{var t,o;return((o=(t=e.ids)==null?void 0:t.itemName)==null?void 0:o.call(t,n))??`file:${e.id}:item-name:${n}`},getItemSizeTextId:(e,n)=>{var t,o;return((o=(t=e.ids)==null?void 0:t.itemSizeText)==null?void 0:o.call(t,n))??`file:${e.id}:item-size:${n}`},getItemPreviewId:(e,n)=>{var t,o;return((o=(t=e.ids)==null?void 0:t.itemPreview)==null?void 0:o.call(t,n))??`file:${e.id}:item-preview:${n}`},getHiddenInputEl:e=>G.getById(e,G.getHiddenInputId(e)),getDropzoneEl:e=>G.getById(e,G.getDropzoneId(e))});function dn(e){return e.dataTransfer?e.dataTransfer.types.some(n=>n==="Files"||n==="application/x-moz-file"):!!e.target&&"files"in e.target}function ao(e,n){return!e.multiple&&n>1?!1:!e.multiple&&n+e.acceptedFiles.length===2?!0:!(n+e.acceptedFiles.length>e.maxFiles)}function Ua(e,n){const t=[],o=[];return n.forEach(r=>{var g;const[s,l]=ra(r,e.acceptAttr),[a,c]=na(r,e.minFileSize,e.maxFileSize),i=(g=e.validate)==null?void 0:g.call(e,r),d=i?i.length===0:!0;if(s&&a&&d)t.push(r);else{const p=[l,c];d||p.push(...i??[]),o.push({file:r,errors:p.filter(Boolean)})}}),ao(e,t.length)||(t.forEach(r=>{o.push({file:r,errors:["TOO_MANY_FILES"]})}),t.splice(0)),{acceptedFiles:t,rejectedFiles:o}}function ja(e,n,t){const o=e.context.disabled,r=e.context.allowDrop,s=e.context.translations,l=e.matches("dragging"),a=e.matches("focused")&&!o;return{dragging:l,focused:a,openFilePicker(){n("OPEN")},deleteFile(c){n({type:"FILE.DELETE",file:c})},acceptedFiles:e.context.acceptedFiles,rejectedFiles:e.context.rejectedFiles,setFiles(c){const i=c.length;n({type:"FILES.SET",files:c,count:i})},clearRejectedFiles(){n({type:"REJECTED_FILES.CLEAR"})},clearFiles(){n({type:"FILES.CLEAR"})},getFileSize(c){return Xs(c.size,e.context.locale)},createFileUrl(c,i){const d=G.getWin(e.context),g=d.URL.createObjectURL(c);return i(g),()=>d.URL.revokeObjectURL(g)},getRootProps(){return t.element({...re.root.attrs,dir:e.context.dir,id:G.getRootId(e.context),"data-disabled":k(o),"data-dragging":k(l)})},getDropzoneProps(){return t.element({...re.dropzone.attrs,dir:e.context.dir,id:G.getDropzoneId(e.context),tabIndex:o?void 0:0,"aria-disabled":o,"aria-invalid":e.context.invalid,"data-invalid":k(e.context.invalid),"data-disabled":k(o),"data-dragging":k(l),onKeyDown(c){c.defaultPrevented||Ss(c)&&(c.key!=="Enter"&&c.key!==" "||n({type:"DROPZONE.CLICK",src:"keydown"}))},onClick(c){c.currentTarget.localName==="label"&&c.preventDefault(),n("DROPZONE.CLICK")},onDragOver(c){if(!r)return;c.preventDefault(),c.stopPropagation();try{c.dataTransfer.dropEffect="copy"}catch{}if(!dn(c))return;const d=c.dataTransfer.items.length;n({type:"DROPZONE.DRAG_OVER",count:d})},onDragLeave(c){!r||o||_e(c.currentTarget,c.relatedTarget)||n({type:"DROPZONE.DRAG_LEAVE"})},onDrop(c){r&&(c.preventDefault(),c.stopPropagation());const i=dn(c);o||!i||n({type:"DROPZONE.DROP",files:Array.from(c.dataTransfer.files)})},onFocus(){n("DROPZONE.FOCUS")},onBlur(){n("DROPZONE.BLUR")}})},getTriggerProps(){return t.button({...re.trigger.attrs,dir:e.context.dir,id:G.getTriggerId(e.context),disabled:o,"data-disabled":k(o),type:"button",onClick(c){o||(_e(G.getDropzoneEl(e.context),c.currentTarget)&&c.stopPropagation(),n("OPEN"))}})},getHiddenInputProps(){return t.input({id:G.getHiddenInputId(e.context),tabIndex:-1,disabled:o,type:"file",required:e.context.required,capture:e.context.capture,name:e.context.name,accept:e.context.acceptAttr,webkitdirectory:e.context.capture?"":void 0,multiple:e.context.multiple||e.context.maxFiles>1,onClick(c){c.stopPropagation(),c.currentTarget.value=""},onChange(c){if(o)return;const{files:i}=c.currentTarget;n({type:"FILES.SET",files:i?Array.from(i):[]})},style:Qn})},getItemGroupProps(){return t.element({...re.itemGroup.attrs,dir:e.context.dir,"data-disabled":k(o)})},getItemProps(c){const{file:i}=c;return t.element({...re.item.attrs,dir:e.context.dir,id:G.getItemId(e.context,i.name),"data-disabled":k(o)})},getItemNameProps(c){const{file:i}=c;return t.element({...re.itemName.attrs,dir:e.context.dir,id:G.getItemNameId(e.context,i.name),"data-disabled":k(o)})},getItemSizeTextProps(c){const{file:i}=c;return t.element({...re.itemSizeText.attrs,dir:e.context.dir,id:G.getItemSizeTextId(e.context,i.name),"data-disabled":k(o)})},getItemPreviewProps(c){const{file:i}=c;return t.element({...re.itemPreview.attrs,dir:e.context.dir,id:G.getItemPreviewId(e.context,i.name),"data-disabled":k(o)})},getItemPreviewImageProps(c){const{file:i,url:d}=c;if(!i.type.startsWith("image/"))throw new Error("Preview Image is only supported for image files");return t.img({...re.itemPreviewImage.attrs,alt:s.itemPreview(i),src:d,"data-disabled":k(o)})},getItemDeleteTriggerProps(c){const{file:i}=c;return t.button({...re.itemDeleteTrigger.attrs,dir:e.context.dir,type:"button",disabled:o,"data-disabled":k(o),"aria-label":s.deleteFile(i),onClick(){o||n({type:"FILE.DELETE",file:i})}})},getLabelProps(){return t.label({...re.label.attrs,dir:e.context.dir,id:G.getLabelId(e.context),htmlFor:G.getHiddenInputId(e.context),"data-disabled":k(o)})}}}var{not:hn}=jt;function Ha(e){const n=Ke(e);return Ht({id:"fileupload",initial:"idle",context:{minFileSize:0,maxFileSize:1/0,maxFiles:1,allowDrop:!0,...n,acceptedFiles:ee([]),rejectedFiles:ee([]),invalid:!1,translations:{itemPreview:t=>`preview of ${t.name}`,deleteFile:t=>`delete file ${t.name}`,...n.translations}},computed:{acceptAttr:t=>ea(t.accept),multiple:t=>t.maxFiles>1},on:{"FILES.SET":{actions:["setFilesFromEvent"]},"FILE.DELETE":{actions:["removeFile"]},"FILES.CLEAR":{actions:["clearFiles"]},"REJECTED_FILES.CLEAR":{actions:["clearRejectedFiles"]}},states:{idle:{on:{OPEN:{actions:["openFilePicker"]},"DROPZONE.CLICK":{actions:["openFilePicker"]},"DROPZONE.FOCUS":"focused","DROPZONE.DRAG_OVER":[{guard:hn("isWithinRange"),target:"dragging",actions:["setInvalid"]},{target:"dragging"}]}},focused:{on:{"DROPZONE.BLUR":"idle",OPEN:{actions:["openFilePicker"]},"DROPZONE.CLICK":{actions:["openFilePicker"]},"DROPZONE.DRAG_OVER":[{guard:hn("isWithinRange"),target:"dragging",actions:["setInvalid"]},{target:"dragging"}]}},dragging:{on:{"DROPZONE.DROP":{target:"idle",actions:["clearInvalid","setFilesFromEvent","syncInputElement"]},"DROPZONE.DRAG_LEAVE":{target:"idle",actions:["clearInvalid"]}}}}},{guards:{isWithinRange:(t,o)=>ao(t,o.count)},actions:{syncInputElement(t){const o=G.getHiddenInputEl(t);if(!o)return;const r=G.getWin(t),s=new r.DataTransfer;t.acceptedFiles.forEach(l=>{s.items.add(l)}),o.files=s.files},openFilePicker(t){x(()=>{var o;(o=G.getHiddenInputEl(t))==null||o.click()})},setInvalid(t){t.invalid=!0},clearInvalid(t){t.invalid=!1},setFilesFromEvent(t,o){const r=Ua(t,o.files),{acceptedFiles:s,rejectedFiles:l}=r;if(t.multiple){const a=ee([...t.acceptedFiles,...s]);_t.files(t,a,l);return}if(s.length){const a=ee([s[0]]);_t.files(t,a,l)}else l.length&&_t.files(t,[],l)},removeFile(t,o){const r=t.acceptedFiles.filter(s=>s!==o.file);t.acceptedFiles=ee(r),Fe.change(t)},clearRejectedFiles(t){t.rejectedFiles=ee([]),Fe.change(t)},clearFiles(t){t.acceptedFiles=ee([]),t.rejectedFiles=ee([]),Fe.change(t)}},compareFns:{acceptedFiles:(t,o)=>t.length===o.length&&t.every((r,s)=>ta(r,o[s]))}})}var Fe={change:e=>{var n;(n=e.onFileChange)==null||n.call(e,{acceptedFiles:e.acceptedFiles,rejectedFiles:e.rejectedFiles})},accept:e=>{var n;(n=e.onFileAccept)==null||n.call(e,{files:e.acceptedFiles})},reject:e=>{var n;(n=e.onFileReject)==null||n.call(e,{files:e.rejectedFiles})}},_t={files:(e,n,t)=>{e.acceptedFiles=ee(n),Fe.accept(e),t&&(e.rejectedFiles=ee(t),Fe.reject(e)),Fe.change(e)}};eo()(["accept","allowDrop","capture","dir","directory","disabled","getRootNode","id","ids","locale","maxFiles","maxFileSize","minFileSize","name","onFileAccept","onFileReject","onFileChange","required","translations","validate"]);eo()(["file"]);function Ga(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}var pn={htmlFor:"for",className:"class",onDoubleClick:"onDblclick",onChange:"onInput",onFocus:"onFocusin",onBlur:"onFocusout",defaultValue:"value",defaultChecked:"checked"};function Wa(e){return e in pn?pn[e]:e.startsWith("on")?`on${Ga(e.substr(2))}`:e.toLowerCase()}var Wt=Ys(e=>{const n={};for(const t in e){const o=e[t];t==="children"?typeof o=="string"&&(n.innerHTML=o):n[Wa(t)]=e[t]}return n});function za(e,n){const{actions:t,context:o}=n??{},r=mr(e.state),s=Tt(e.state,()=>{r.value=Se(e.state)});return br(()=>{s==null||s()}),vr(()=>{e.setOptions({actions:t})}),o&&Rn(o,l=>{e.setContext(m(l))},{deep:!0}),r}function Ka(e,n){const{state:t,context:o}=n??{},r=typeof e=="function"?e():e;return o&&r.setContext(m(o)),r._created(),pt(()=>{r.start(t),Fn(()=>{r.stop()})}),r}function zt(e,n){const t=Ka(e,n);return[za(t,n),t.send,t]}const qa=y("span",{"i-mdi:upload":"","text-base":""},null,-1),Ja={class:"pt-2 space-y-6 text-sm"},Xa={"text-center":""},Ya={key:0,class:"bg-muted text-muted-foreground rounded p-2 mt-2"},Za={hstack:""},Qa=y("div",{"px-5":"","text-primary":""},"OR",-1),ei={class:"flex gap-x-2"},ti=y("span",{class:"sr-only"},"Submit",-1),ni=y("span",{"i-line-md:confirm":"","size-4":""},null,-1),oi=L({__name:"Import",setup(e){const{setAndSyncToMonaco:n}=Oe(),t=W(null),[o,r]=zt(Ha({id:"import-dialog",accept:".md",onFileAccept:({files:c})=>{const i=new FileReader;i.onloadend=()=>{const d=i.result;n("markdown",d)},i.readAsText(c[0]),t.value=c[0].name,l.value=""}})),s=K(()=>ja(o.value,r,Wt)),l=W(""),a=async()=>{if(l.value.trim()!=="")try{const c=await ir(l.value);n("markdown",c),t.value=null,l.value=""}catch(c){console.error(c)}};return(c,i)=>{const d=we,g=ss,p=is,f=as,v=Dn,u=us,h=cs,b=rs;return O(),F(b,null,{default:_(()=>[E(g,{"as-child":""},{default:_(()=>[E(d,{class:"gap-x-1.5 w-full h-8 justify-start",variant:"ghost",size:"sm"},{default:_(()=>[qa,U(" "+R(c.$t("toolbar.file.import.trigger")),1)]),_:1})]),_:1}),E(h,{class:"sm:max-w-110"},{default:_(()=>[E(f,null,{default:_(()=>[E(p,null,{default:_(()=>[U(R(c.$t("toolbar.file.import.dialog.header")),1)]),_:1})]),_:1}),y("div",Ja,[y("div",pe(ge(m(s).getRootProps())),[y("div",M(m(s).getDropzoneProps(),{class:"py-14 cursor-pointer hover:bg-accent hover:text-accent-foreground",border:"~ dashed rounded"}),[y("input",pe(ge(m(s).getHiddenInputProps())),null,16),y("div",Xa,R(c.$t("toolbar.file.import.dialog.from_local")),1)],16),m(t)?(O(),V("div",Ya,R(m(t)),1)):ze("",!0)],16),y("div",Za,[E(v,{"flex-1":"",bg:"primary/40"}),Qa,E(v,{"flex-1":"",bg:"primary/40"})]),y("div",ei,[E(u,{modelValue:m(l),"onUpdate:modelValue":i[0]||(i[0]=C=>Vn(l)?l.value=C:null),placeholder:c.$t("toolbar.file.import.dialog.from_url"),onKeyup:yr(a,["enter"])},null,8,["modelValue","placeholder"]),E(d,{type:"submit",size:"icon",class:"shrink-0",onClick:a,disabled:m(l)===""},{default:_(()=>[ti,ni]),_:1},8,["disabled"])])])]),_:1})]),_:1})}}}),ri={hstack:"","gap-x-2":"","mb-4":"","text-base":""},be=L({__name:"Box",props:{text:{},icon:{},class:{}},setup(e){const n=e;return(t,o)=>(O(),V("div",{class:ce(m(ae)("px-4 py-6 text-sm",n.class))},[y("div",ri,[t.icon?(O(),V("span",{key:0,class:ce(t.icon)},null,2)):ze("",!0),U(" "+R(t.text),1)]),te(t.$slots,"default")],2))}}),si={},ai=y("hr",{"border-dashed":"","my-2":""},null,-1),ii=y("hr",{"border-dashed":"","my-2":""},null,-1);function li(e,n){const t=zr,o=Xr,r=os,s=oi,l=be;return O(),F(l,{text:e.$t("toolbar.file.title"),icon:"i-carbon:import-export"},{default:_(()=>[E(t),E(o),ai,E(r),ii,E(s)]),_:1},8,["text"])}const ci=$n(si,[["render",li]]);var ui=Object.defineProperty,di=(e,n,t)=>n in e?ui(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,hi=(e,n,t)=>di(e,n+"",t),et={itemToValue(e){return typeof e=="string"?e:St(e)&&It(e,"value")?e.value:""},itemToString(e){return typeof e=="string"?e:St(e)&&It(e,"label")?e.label:et.itemToValue(e)},isItemDisabled(e){return St(e)&&It(e,"disabled")?!!e.disabled:!1}},io=class{constructor(e){this.options=e,hi(this,"items"),this.items=[...e.items]}isEqual(e){return Le(this.items,e.items)}setItems(e){this.items=Array.from(e)}getValues(e=this.items){return Array.from(e).map(n=>this.getItemValue(n)).filter(Boolean)}find(e){if(e==null)return null;const n=this.items.findIndex(t=>this.getItemValue(t)===e);return n!=null?this.items[n]:null}findMany(e){return Array.from(e).map(n=>this.find(n)).filter(Boolean)}at(e){return this.items[e]??null}sortFn(e,n){const t=this.indexOf(e),o=this.indexOf(n);return(t??0)-(o??0)}sort(e){return[...e].sort(this.sortFn.bind(this))}getItemValue(e){var n,t;return e==null?null:((t=(n=this.options).itemToValue)==null?void 0:t.call(n,e))??et.itemToValue(e)}getItemDisabled(e){var n,t;return e==null?!1:((t=(n=this.options).isItemDisabled)==null?void 0:t.call(n,e))??et.isItemDisabled(e)}stringifyItem(e){var n,t;return e==null?null:((t=(n=this.options).itemToString)==null?void 0:t.call(n,e))??et.itemToString(e)}stringify(e){return e==null?null:this.stringifyItem(this.find(e))}stringifyItems(e,n=", "){return Array.from(e).map(t=>this.stringifyItem(t)).filter(Boolean).join(n)}stringifyMany(e,n){return this.stringifyItems(this.findMany(e),n)}has(e){return this.indexOf(e)!==-1}hasItem(e){return e==null?!1:this.has(this.getItemValue(e))}get size(){return this.items.length}get firstValue(){let e=0;for(;this.getItemDisabled(this.at(e));)e++;return this.getItemValue(this.at(e))}get lastValue(){let e=this.size-1;for(;this.getItemDisabled(this.at(e));)e--;return this.getItemValue(this.at(e))}getNextValue(e){let n=this.indexOf(e);if(n===-1)return null;for(n++;n<=this.size&&this.getItemDisabled(this.at(n));)n++;return this.getItemValue(this.at(n))}getPreviousValue(e){let n=this.indexOf(e);if(n===-1)return null;for(n--;n>=0&&this.getItemDisabled(this.at(n));)n--;return this.getItemValue(this.at(n))}indexOf(e){return e==null?-1:this.items.findIndex(n=>this.getItemValue(n)===e)}getByText(e,n){let t=n!=null?gi(this.items,this.indexOf(n)):this.items;return e.length===1&&(t=t.filter(r=>this.getItemValue(r)!==n)),t.find(r=>pi(this.stringifyItem(r),e))}search(e,n){const{state:t,currentValue:o,timeout:r=350}=n,s=t.keysSoFar+e,a=s.length>1&&Array.from(s).every(p=>p===s[0])?s[0]:s,c=this.getByText(a,o),i=this.getItemValue(c);function d(){clearTimeout(t.timer),t.timer=-1}function g(p){t.keysSoFar=p,d(),p!==""&&(t.timer=+setTimeout(()=>{g(""),d()},r))}return g(s),i}*[Symbol.iterator](){yield*this.items}insertBefore(e,n){const t=this.indexOf(e);t!==-1&&this.items.splice(t,0,n)}insertAfter(e,n){const t=this.indexOf(e);t!==-1&&this.items.splice(t+1,0,n)}reorder(e,n){if(e===-1||n===-1||e===n)return;const[t]=this.items.splice(e,1);this.items.splice(n,0,t)}toJSON(){return{size:this.size,first:this.firstValue,last:this.lastValue}}},pi=(e,n)=>!!(e!=null&&e.toLowerCase().startsWith(n.toLowerCase())),gi=(e,n)=>e.map((t,o)=>e[(Math.max(n,0)+o)%e.length]),Ae="default",Pt="",tt=new WeakMap;function fi(e={}){const{target:n,doc:t}=e,o=t??document,r=o.documentElement;return qn()?(Ae==="default"&&(Pt=r.style.webkitUserSelect,r.style.webkitUserSelect="none"),Ae="disabled"):n&&(tt.set(n,n.style.userSelect),n.style.userSelect="none"),()=>mi({target:n,doc:o})}function mi(e={}){const{target:n,doc:t}=e,r=(t??document).documentElement;if(qn()){if(Ae!=="disabled")return;Ae="restoring",setTimeout(()=>{Fs(()=>{Ae==="restoring"&&(r.style.webkitUserSelect==="none"&&(r.style.webkitUserSelect=Pt||""),Pt="",Ae="default")})},300)}else if(n&&tt.has(n)){const s=tt.get(n);n.style.userSelect==="none"&&(n.style.userSelect=s??""),n.getAttribute("style")===""&&n.removeAttribute("style"),tt.delete(n)}}function lo(e={}){const{defer:n,target:t,...o}=e,r=n?x:l=>l(),s=[];return s.push(r(()=>{const l=typeof t=="function"?t():t;s.push(fi({...o,target:l}))})),()=>{s.forEach(l=>l==null?void 0:l())}}var Ie=(e,n,t,o)=>{const r=typeof e=="function"?e():e;return r==null||r.addEventListener(n,t,o),()=>{r==null||r.removeEventListener(n,t,o)}},At=e=>e.button===0,co=e=>e.button===2||vs()&&e.ctrlKey&&e.button===0,gn=e=>e.ctrlKey||e.altKey||e.metaKey;function Kt(e,n,t){const r=(l=>{const a=requestAnimationFrame(l);return()=>cancelAnimationFrame(a)})(()=>{e.removeEventListener(n,s,!0),t()}),s=()=>{r(),t()};return e.addEventListener(n,s,{once:!0,capture:!0}),r}function bi(e){return(e==null?void 0:e.matches("a[href]"))??!1}function vi(e){if(!bi(e))return;const n=()=>e.click();ys()?Kt(e,"keyup",n):queueMicrotask(n)}function fn(e,n,t){if(!e)return;const o=e.ownerDocument.defaultView||window,r=new o.CustomEvent(n,t);return e.dispatchEvent(r)}var yi={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"},mn={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"};function ut(e,n={}){const{dir:t="ltr",orientation:o="horizontal"}=n;let{key:r}=e;return r=yi[r]??r,t==="rtl"&&o==="horizontal"&&r in mn&&(r=mn[r]),r}function Ci(e,n="client"){const t=e.touches[0]||e.changedTouches[0];return{x:t[`${n}X`],y:t[`${n}Y`]}}function Ei(e,n="client"){return{x:e[`${n}X`],y:e[`${n}Y`]}}var Si=e=>"touches"in e&&e.touches.length>0;function Nt(e,n="client"){return Si(e)?Ci(e,n):Ei(e,n)}var Ii=new Set(["PageUp","PageDown"]),_i=new Set(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"]);function bn(e){return e.ctrlKey||e.metaKey?.1:Ii.has(e.key)||e.shiftKey&&_i.has(e.key)?10:1}function vn(e){return Math.max(0,Math.min(1,e))}function yn(e,n){const{left:t,top:o,width:r,height:s}=n.getBoundingClientRect(),l={x:e.x-t,y:e.y-o},a={x:vn(l.x/r),y:vn(l.y/s)};function c(i={}){const{dir:d="ltr",orientation:g="horizontal",inverted:p}=i,f=typeof p=="object"?p.x:p,v=typeof p=="object"?p.y:p;return g==="horizontal"?d==="rtl"||f?1-a.x:a.x:v?1-a.y:a.y}return{offset:l,percent:a,getPercentValue:c}}function wi(e,n){const{onPointerMove:t,onPointerUp:o}=n,r=[],l=[Ie(e,"pointermove",a=>{const c=Nt(a);r.push({...c,timestamp:performance.now()});const i=Math.sqrt(c.x**2+c.y**2),d=a.pointerType==="touch"?10:5;if(!(i<d)){if(a.pointerType==="mouse"&&a.button===0){o();return}t({point:c,event:a,velocity:Pi(r,.1)})}},!1),Ie(e,"pointerup",o,!1),Ie(e,"pointercancel",o,!1),Ie(e,"contextmenu",o,!1),lo({doc:e})];return()=>{l.forEach(a=>a()),r.length=0}}function Oi(e){return e[e.length-1]}function ki(e){return e*1e3}function Ti(e){return e/1e3}function Pi(e,n){if(e.length<2)return{x:0,y:0};let t=e.length-1,o=null;const r=Oi(e);for(;t>=0&&(o=e[t],!(r.timestamp-o.timestamp>ki(n)));)t--;if(!o)return{x:0,y:0};const s=Ti(r.timestamp-o.timestamp);if(s===0)return{x:0,y:0};const l={x:(r.x-o.x)/s,y:(r.y-o.y)/s};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),{x:Math.abs(l.x),y:Math.abs(l.y)}}function Cn(e=0,n=0,t=0,o=0){if(typeof DOMRect=="function")return new DOMRect(e,n,t,o);const r={x:e,y:n,width:t,height:o,top:n,right:e+t,bottom:n+o,left:e};return{...r,toJSON:()=>r}}function Ai(e){if(!e)return Cn();const{x:n,y:t,width:o,height:r}=e;return Cn(n,t,o,r)}function Ni(e,n){return{contextElement:fe(e)?e:void 0,getBoundingClientRect:()=>{const t=e,o=n==null?void 0:n(t);return o||!t?Ai(o):t.getBoundingClientRect()}}}var De=e=>({variable:e,reference:`var(${e})`}),ue={arrowSize:De("--arrow-size"),arrowSizeHalf:De("--arrow-size-half"),arrowBg:De("--arrow-background"),transformOrigin:De("--transform-origin"),arrowOffset:De("--arrow-offset")},Li=e=>({top:"bottom center","top-start":e?`${e.x}px bottom`:"left bottom","top-end":e?`${e.x}px bottom`:"right bottom",bottom:"top center","bottom-start":e?`${e.x}px top`:"top left","bottom-end":e?`${e.x}px top`:"top right",left:"right center","left-start":e?`right ${e.y}px`:"right top","left-end":e?`right ${e.y}px`:"right bottom",right:"left center","right-start":e?`left ${e.y}px`:"left top","right-end":e?`left ${e.y}px`:"left bottom"}),Fi={name:"transformOrigin",fn({placement:e,elements:n,middlewareData:t}){const{arrow:o}=t,r=Li(o)[e],{floating:s}=n;return s.style.setProperty(ue.transformOrigin.variable,r),{data:{transformOrigin:r}}}},Ri={name:"rects",fn({rects:e}){return{data:e}}},xi=e=>{if(e)return{name:"shiftArrow",fn({placement:n,middlewareData:t}){if(!t.arrow)return{};const{x:o,y:r}=t.arrow,s=n.split("-")[0];return Object.assign(e.style,{left:o!=null?`${o}px`:"",top:r!=null?`${r}px`:"",[s]:`calc(100% + ${ue.arrowOffset.reference})`}),{}}}};function Vi(e){const[n,t]=e.split("-");return{side:n,align:t,hasAlign:t!=null}}var $i={strategy:"absolute",placement:"bottom",listeners:!0,gutter:8,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,overflowPadding:8,arrowPadding:4};function En(e,n){const t=e.devicePixelRatio||1;return Math.round(n*t)/t}function uo(e){return Fa(e.boundary)}function Di(e,n){if(e)return Uo({element:e,padding:n.arrowPadding})}function Mi(e,n){if(!$a(n.offset??n.gutter))return jo(({placement:t})=>{var i,d;const o=((e==null?void 0:e.clientHeight)||0)/2,r=((i=n.offset)==null?void 0:i.mainAxis)??n.gutter,s=typeof r=="number"?r+o:r??o,{hasAlign:l}=Vi(t),a=l?void 0:n.shift,c=((d=n.offset)==null?void 0:d.crossAxis)??a;return Ke({crossAxis:c,mainAxis:s,alignmentAxis:n.shift})})}function Bi(e){if(e.flip)return Ho({boundary:uo(e),padding:e.overflowPadding,fallbackPlacements:e.flip===!0?void 0:e.flip})}function Ui(e){if(!(!e.slide&&!e.overlap))return Go({boundary:uo(e),mainAxis:e.slide,crossAxis:e.overlap,padding:e.overflowPadding,limiter:Wo()})}function ji(e){return zo({padding:e.overflowPadding,apply({elements:n,rects:t,availableHeight:o,availableWidth:r}){const s=n.floating,l=Math.round(t.reference.width);r=Math.floor(r),o=Math.floor(o),s.style.setProperty("--reference-width",`${l}px`),s.style.setProperty("--available-width",`${r}px`),s.style.setProperty("--available-height",`${o}px`)}})}function Hi(e){return e?e===!0?{ancestorResize:!0,ancestorScroll:!0,elementResize:!0,layoutShift:!0}:e:{}}function Gi(e,n,t={}){const o=Ni(e,t.getAnchorRect);if(!n||!o)return;const r=Object.assign({},$i,t),s=n.querySelector("[data-part=arrow]"),l=[Mi(s,r),Bi(r),Ui(r),Di(s,r),xi(s),Fi,ji(r),Ri],{placement:a,strategy:c,onComplete:i,onPositioned:d}=r,g=async()=>{if(!o||!n)return;const u=await Ko(o,n,{placement:a,middleware:l,strategy:c});i==null||i(u),d==null||d({placed:!0});const h=mt(n),b=En(h,u.x),C=En(h,u.y);n.style.setProperty("--x",`${b}px`),n.style.setProperty("--y",`${C}px`);const T=n.firstElementChild;if(T){const $=h.getComputedStyle(T).zIndex;n.style.setProperty("--z-index",$)}},p=async()=>{t.updatePosition?(await t.updatePosition({updatePosition:g}),d==null||d({placed:!0})):await g()},f=Hi(r.listeners),v=r.listeners?Bo(o,n,p,f):Ra;return p(),()=>{v==null||v(),d==null||d({placed:!1})}}function Lt(e,n,t={}){const{defer:o,...r}=t,s=o?x:a=>a(),l=[];return l.push(s(()=>{const a=typeof e=="function"?e():e,c=typeof n=="function"?n():n;l.push(Gi(a,c,r))})),()=>{l.forEach(a=>a==null?void 0:a())}}var Wi={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function ho(e={}){const{placement:n,sameWidth:t,fitViewport:o,strategy:r="absolute"}=e;return{arrow:{position:"absolute",width:ue.arrowSize.reference,height:ue.arrowSize.reference,[ue.arrowSizeHalf.variable]:`calc(${ue.arrowSize.reference} / 2)`,[ue.arrowOffset.variable]:`calc(${ue.arrowSizeHalf.reference} * -1)`},arrowTip:{transform:n?Wi[n.split("-")[0]]:void 0,background:ue.arrowBg.reference,top:"0",left:"0",width:"100%",height:"100%",position:"absolute",zIndex:"inherit"},floating:{position:r,isolation:"isolate",minWidth:t?void 0:"max-content",width:t?"var(--reference-width)":void 0,maxWidth:o?"var(--available-width)":void 0,maxHeight:o?"var(--available-height)":void 0,top:"0px",left:"0px",transform:n?"translate3d(var(--x), var(--y), 0)":"translate3d(0, -100vh, 0)",zIndex:"var(--z-index)"}}}var Me=new WeakMap,ne=[];function zi(e,n={}){const{rootEl:t}=n,o=e.filter(Boolean);if(o.length===0)return;const r=o[0].ownerDocument||document,s=r.defaultView??window,l=new Set(o),a=new Set,c=t??r.body;let i=f=>{for(let b of f.querySelectorAll("[data-live-announcer], [data-zag-top-layer]"))l.add(b);let v=b=>{if(l.has(b)||a.has(b.parentElement)&&b.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let C of l)if(b.contains(C))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},u=r.createTreeWalker(f,NodeFilter.SHOW_ELEMENT,{acceptNode:v}),h=v(f);if(h===NodeFilter.FILTER_ACCEPT&&d(f),h!==NodeFilter.FILTER_REJECT){let b=u.nextNode();for(;b!=null;)d(b),b=u.nextNode()}},d=f=>{let v=Me.get(f)??0;f.getAttribute("aria-hidden")==="true"&&v===0||(v===0&&f.setAttribute("aria-hidden","true"),a.add(f),Me.set(f,v+1))};ne.length&&ne[ne.length-1].disconnect(),i(c);const g=new s.MutationObserver(f=>{for(let v of f)if(!(v.type!=="childList"||v.addedNodes.length===0)&&![...l,...a].some(u=>u.contains(v.target))){for(let u of v.removedNodes)u instanceof s.Element&&(l.delete(u),a.delete(u));for(let u of v.addedNodes)(u instanceof s.HTMLElement||u instanceof s.SVGElement)&&(u.dataset.liveAnnouncer==="true"||u.dataset.zagTopLayer==="true")?l.add(u):u instanceof s.Element&&i(u)}});g.observe(c,{childList:!0,subtree:!0});let p={observe(){g.observe(c,{childList:!0,subtree:!0})},disconnect(){g.disconnect()}};return ne.push(p),()=>{g.disconnect();for(let f of a){let v=Me.get(f);v===1?(f.removeAttribute("aria-hidden"),Me.delete(f)):Me.set(f,v-1)}p===ne[ne.length-1]?(ne.pop(),ne.length&&ne[ne.length-1].observe()):ne.splice(ne.indexOf(p),1)}}function Ki(e,n={}){const{defer:t}=n,o=t?x:s=>s(),r=[];return r.push(o(()=>{const s=typeof e=="function"?e():e;r.push(zi(s,n))})),()=>{r.forEach(s=>s==null?void 0:s())}}function qi(e){const n={each(t){var o;for(let r=0;r<((o=e.frames)==null?void 0:o.length);r+=1){const s=e.frames[r];s&&t(s)}},queueBeforeEvent(t,o){const r=new Set;return n.each(s=>{try{r.add(Kt(s.document,t,o))}catch{}}),()=>{try{r.forEach(s=>s())}catch{}}},addEventListener(t,o,r){return n.each(s=>{try{s.document.addEventListener(t,o,r)}catch{}}),()=>{try{n.removeEventListener(t,o,r)}catch{}}},removeEventListener(t,o,r){n.each(s=>{try{s.document.removeEventListener(t,o,r)}catch{}})}};return n}var Sn="pointerdown.outside",In="focus.outside";function Ji(e){for(const n of e)if(fe(n)&&Dt(n))return!0;return!1}var po=e=>"clientY"in e;function Xi(e,n){if(!po(n)||!e)return!1;const t=e.getBoundingClientRect();return t.width===0||t.height===0?!1:t.top<=n.clientY&&n.clientY<=t.top+t.height&&t.left<=n.clientX&&n.clientX<=t.left+t.width}function Yi(e){const n=Re(e);if(!n||!po(e))return!1;const o=n.scrollHeight>n.clientHeight&&e.clientX>n.clientWidth,s=n.scrollWidth>n.clientWidth&&e.clientY>n.clientHeight;return o||s}function Zi(e,n){const{exclude:t,onFocusOutside:o,onPointerDownOutside:r,onInteractOutside:s,defer:l}=n;if(!e)return;const a=ft(e),c=mt(e),i=qi(c);function d(h){const b=Re(h);return!fe(b)||_e(e,b)||Xi(e,h)||Yi(h)?!1:!(t!=null&&t(b))}const g=new Set;function p(h){function b(){var $;const C=l?x:j=>j(),T=(($=h.composedPath)==null?void 0:$.call(h))??[h.target];C(()=>{if(!(!e||!d(h))){if(r||s){const j=un(r,s);e.addEventListener(Sn,j,{once:!0})}fn(e,Sn,{bubbles:!1,cancelable:!0,detail:{originalEvent:h,contextmenu:co(h),focusable:Ji(T)}})}})}h.pointerType==="touch"?(g.forEach(C=>C()),g.add(Kt(a,"pointerup",b)),g.add(i.queueBeforeEvent("pointerup",b))):b()}const f=new Set,v=setTimeout(()=>{f.add(i.addEventListener("pointerdown",p,!0)),f.add(Ie(a,"pointerdown",p,!0))},0);function u(h){(l?x:C=>C())(()=>{if(!(!e||!d(h))){if(o||s){const C=un(o,s);e.addEventListener(In,C,{once:!0})}fn(e,In,{bubbles:!1,cancelable:!0,detail:{originalEvent:h,contextmenu:!1,focusable:Dt(Re(h))}})}})}return f.add(Ie(a,"focusin",u,!0)),f.add(i.addEventListener("focusin",u,!0)),()=>{clearTimeout(v),g.forEach(h=>h()),f.forEach(h=>h())}}function Qi(e,n){const{defer:t}=n,o=t?x:s=>s(),r=[];return r.push(o(()=>{const s=typeof e=="function"?e():e;r.push(Zi(s,n))})),()=>{r.forEach(s=>s==null?void 0:s())}}function el(e,n){const t=o=>{o.key==="Escape"&&(o.isComposing||n==null||n(o))};return Ie(ft(e),"keydown",t,{capture:!0})}var se={layers:[],branches:[],count(){return this.layers.length},pointerBlockingLayers(){return this.layers.filter(e=>e.pointerBlocking)},topMostPointerBlockingLayer(){return[...this.pointerBlockingLayers()].slice(-1)[0]},hasPointerBlockingLayer(){return this.pointerBlockingLayers().length>0},isBelowPointerBlockingLayer(e){var o;const n=this.indexOf(e),t=this.topMostPointerBlockingLayer()?this.indexOf((o=this.topMostPointerBlockingLayer())==null?void 0:o.node):-1;return n<t},isTopMost(e){const n=this.layers[this.count()-1];return(n==null?void 0:n.node)===e},getNestedLayers(e){return Array.from(this.layers).slice(this.indexOf(e)+1)},isInNestedLayer(e,n){return this.getNestedLayers(e).some(t=>_e(t.node,n))},isInBranch(e){return Array.from(this.branches).some(n=>_e(n,e))},add(e){const n=this.layers.push(e);e.node.style.setProperty("--layer-index",`${n}`)},addBranch(e){this.branches.push(e)},remove(e){const n=this.indexOf(e);n<0||(n<this.count()-1&&this.getNestedLayers(e).forEach(o=>o.dismiss()),this.layers.splice(n,1),e.style.removeProperty("--layer-index"))},removeBranch(e){const n=this.branches.indexOf(e);n>=0&&this.branches.splice(n,1)},indexOf(e){return this.layers.findIndex(n=>n.node===e)},dismiss(e){var n;(n=this.layers[this.indexOf(e)])==null||n.dismiss()},clear(){this.remove(this.layers[0].node)}},_n;function wn(){se.layers.forEach(({node:e})=>{e.style.pointerEvents=se.isBelowPointerBlockingLayer(e)?"none":"auto"})}function tl(e){e.style.pointerEvents=""}function nl(e,n){const t=ft(e),o=[];if(se.hasPointerBlockingLayer()&&!t.body.hasAttribute("data-inert")&&(_n=document.body.style.pointerEvents,queueMicrotask(()=>{t.body.style.pointerEvents="none",t.body.setAttribute("data-inert","")})),n){const r=Gs(n,s=>{o.push(Us(s,{pointerEvents:"auto"}))});o.push(r)}return()=>{se.hasPointerBlockingLayer()||(queueMicrotask(()=>{t.body.style.pointerEvents=_n,t.body.removeAttribute("data-inert"),t.body.style.length===0&&t.body.removeAttribute("style")}),o.forEach(r=>r()))}}function ol(e,n){if(!e){Ma("[@zag-js/dismissable] node is `null` or `undefined`");return}const{onDismiss:t,pointerBlocking:o,exclude:r,debug:s}=n,l={dismiss:t,node:e,pointerBlocking:o};se.add(l),wn();function a(p){var v,u;const f=Re(p.detail.originalEvent);se.isBelowPointerBlockingLayer(e)||se.isInBranch(f)||((v=n.onPointerDownOutside)==null||v.call(n,p),(u=n.onInteractOutside)==null||u.call(n,p),!p.defaultPrevented&&(s&&console.log("onPointerDownOutside:",p.detail.originalEvent),t==null||t()))}function c(p){var v,u;const f=Re(p.detail.originalEvent);se.isInBranch(f)||((v=n.onFocusOutside)==null||v.call(n,p),(u=n.onInteractOutside)==null||u.call(n,p),!p.defaultPrevented&&(s&&console.log("onFocusOutside:",p.detail.originalEvent),t==null||t()))}function i(p){var f;se.isTopMost(e)&&((f=n.onEscapeKeyDown)==null||f.call(n,p),!p.defaultPrevented&&t&&(p.preventDefault(),t()))}function d(p){var h;if(!e)return!1;const f=typeof r=="function"?r():r,v=Array.isArray(f)?f:[f],u=(h=n.persistentElements)==null?void 0:h.map(b=>b()).filter(fe);return u&&v.push(...u),v.some(b=>_e(b,p))||se.isInNestedLayer(e,p)}const g=[o?nl(e,n.persistentElements):void 0,el(e,i),Qi(e,{exclude:d,onFocusOutside:c,onPointerDownOutside:a,defer:n.defer})];return()=>{se.remove(e),wn(),tl(e),g.forEach(p=>p==null?void 0:p())}}function go(e,n){const{defer:t}=n,o=t?x:s=>s(),r=[];return r.push(o(()=>{const s=Va(e)?e():e;r.push(ol(s,n))})),()=>{r.forEach(s=>s==null?void 0:s())}}var rl=Ne("combobox").parts("root","clearTrigger","content","control","input","item","itemGroup","itemGroupLabel","itemIndicator","itemText","label","list","positioner","trigger"),Y=rl.build(),qt=e=>ee(new io(e));qt.empty=()=>ee(new io({items:[]}));var I=Mt({getRootId:e=>{var n;return((n=e.ids)==null?void 0:n.root)??`combobox:${e.id}`},getLabelId:e=>{var n;return((n=e.ids)==null?void 0:n.label)??`combobox:${e.id}:label`},getControlId:e=>{var n;return((n=e.ids)==null?void 0:n.control)??`combobox:${e.id}:control`},getInputId:e=>{var n;return((n=e.ids)==null?void 0:n.input)??`combobox:${e.id}:input`},getContentId:e=>{var n;return((n=e.ids)==null?void 0:n.content)??`combobox:${e.id}:content`},getPositionerId:e=>{var n;return((n=e.ids)==null?void 0:n.positioner)??`combobox:${e.id}:popper`},getTriggerId:e=>{var n;return((n=e.ids)==null?void 0:n.trigger)??`combobox:${e.id}:toggle-btn`},getClearTriggerId:e=>{var n;return((n=e.ids)==null?void 0:n.clearTrigger)??`combobox:${e.id}:clear-btn`},getItemGroupId:(e,n)=>{var t,o;return((o=(t=e.ids)==null?void 0:t.itemGroup)==null?void 0:o.call(t,n))??`combobox:${e.id}:optgroup:${n}`},getItemGroupLabelId:(e,n)=>{var t,o;return((o=(t=e.ids)==null?void 0:t.itemGroupLabel)==null?void 0:o.call(t,n))??`combobox:${e.id}:optgroup-label:${n}`},getItemId:(e,n)=>{var t,o;return((o=(t=e.ids)==null?void 0:t.item)==null?void 0:o.call(t,n))??`combobox:${e.id}:option:${n}`},getContentEl:e=>I.getById(e,I.getContentId(e)),getInputEl:e=>I.getById(e,I.getInputId(e)),getPositionerEl:e=>I.getById(e,I.getPositionerId(e)),getControlEl:e=>I.getById(e,I.getControlId(e)),getTriggerEl:e=>I.getById(e,I.getTriggerId(e)),getClearTriggerEl:e=>I.getById(e,I.getClearTriggerId(e)),getHighlightedItemEl:e=>{const n=e.highlightedValue;if(n==null)return;const t=`[role=option][data-value="${CSS.escape(n)}"`;return Zn(I.getContentEl(e),t)},focusInputEl:e=>{const n=I.getInputEl(e);I.isActiveElement(e,n)||n==null||n.focus({preventScroll:!0})},focusTriggerEl:e=>{const n=I.getTriggerEl(e);I.isActiveElement(e,n)||n==null||n.focus({preventScroll:!0})}});function sl(e,n,t){const o=e.context.translations,r=e.context.collection,s=e.context.disabled,l=e.context.isInteractive,a=e.context.invalid,c=e.context.readOnly,i=e.hasTag("open"),d=e.hasTag("focused"),g=e.context.composite,p=e.context.highlightedValue,f=ho({...e.context.positioning,placement:e.context.currentPlacement});function v(u){const{item:h}=u,b=r.getItemDisabled(h),C=r.getItemValue(h);return{value:C,disabled:!!(b||b),highlighted:p===C,selected:e.context.value.includes(C)}}return{focused:d,open:i,inputValue:e.context.inputValue,highlightedValue:p,highlightedItem:e.context.highlightedItem,value:e.context.value,valueAsString:e.context.valueAsString,hasSelectedItems:e.context.hasSelectedItems,selectedItems:e.context.selectedItems,collection:e.context.collection,reposition(u={}){n({type:"POSITIONING.SET",options:u})},setCollection(u){n({type:"COLLECTION.SET",value:u})},setHighlightValue(u){n({type:"HIGHLIGHTED_VALUE.SET",value:u})},selectValue(u){n({type:"ITEM.SELECT",value:u})},setValue(u){n({type:"VALUE.SET",value:u})},setInputValue(u){n({type:"INPUT_VALUE.SET",value:u})},clearValue(u){u!=null?n({type:"ITEM.CLEAR",value:u}):n("VALUE.CLEAR")},focus(){var u;(u=I.getInputEl(e.context))==null||u.focus()},setOpen(u){u!==i&&n(u?"OPEN":"CLOSE")},getRootProps(){return t.element({...Y.root.attrs,dir:e.context.dir,id:I.getRootId(e.context),"data-invalid":k(a),"data-readonly":k(c)})},getLabelProps(){return t.label({...Y.label.attrs,dir:e.context.dir,htmlFor:I.getInputId(e.context),id:I.getLabelId(e.context),"data-readonly":k(c),"data-disabled":k(s),"data-invalid":k(a),"data-focus":k(d),onClick(u){var h;g||(u.preventDefault(),(h=I.getTriggerEl(e.context))==null||h.focus({preventScroll:!0}))}})},getControlProps(){return t.element({...Y.control.attrs,dir:e.context.dir,id:I.getControlId(e.context),"data-state":i?"open":"closed","data-focus":k(d),"data-disabled":k(s),"data-invalid":k(a)})},getPositionerProps(){return t.element({...Y.positioner.attrs,dir:e.context.dir,id:I.getPositionerId(e.context),style:f.floating})},getInputProps(){return t.input({...Y.input.attrs,dir:e.context.dir,"aria-invalid":hs(a),"data-invalid":k(a),name:e.context.name,form:e.context.form,disabled:s,autoFocus:e.context.autoFocus,required:e.context.required,autoComplete:"off",autoCorrect:"off",autoCapitalize:"none",spellCheck:"false",readOnly:c,placeholder:e.context.placeholder,id:I.getInputId(e.context),type:"text",role:"combobox",defaultValue:e.context.inputValue,"aria-autocomplete":e.context.autoComplete?"both":"list","aria-controls":I.getContentId(e.context),"aria-expanded":i,"data-state":i?"open":"closed","aria-activedescendant":p?I.getItemId(e.context,p):void 0,onClick(u){u.defaultPrevented||e.context.openOnClick&&l&&n("INPUT.CLICK")},onFocus(){s||n("INPUT.FOCUS")},onBlur(){s||n("INPUT.BLUR")},onChange(u){n({type:"INPUT.CHANGE",value:u.currentTarget.value})},onKeyDown(u){if(u.defaultPrevented||!l||u.ctrlKey||u.shiftKey||ws(u))return;const h=e.context.openOnKeyPress,b=u.ctrlKey||u.metaKey||u.shiftKey,C=!0,T={ArrowDown(q){!h&&!i||(n({type:q.altKey?"OPEN":"INPUT.ARROW_DOWN",keypress:C}),q.preventDefault())},ArrowUp(){!h&&!i||(n({type:u.altKey?"CLOSE":"INPUT.ARROW_UP",keypress:C}),u.preventDefault())},Home(q){b||(n({type:"INPUT.HOME",keypress:C}),i&&q.preventDefault())},End(q){b||(n({type:"INPUT.END",keypress:C}),i&&q.preventDefault())},Enter(q){n({type:"INPUT.ENTER",keypress:C}),i&&q.preventDefault();const J=I.getHighlightedItemEl(e.context);vi(J)},Escape(){n({type:"INPUT.ESCAPE",keypress:C}),u.preventDefault()}},$=ut(u,e.context),j=T[$];j==null||j(u)}})},getTriggerProps(u={}){return t.button({...Y.trigger.attrs,dir:e.context.dir,id:I.getTriggerId(e.context),"aria-haspopup":g?"listbox":"dialog",type:"button",tabIndex:u.focusable?void 0:-1,"aria-label":o.triggerLabel,"aria-expanded":i,"data-state":i?"open":"closed","aria-controls":i?I.getContentId(e.context):void 0,disabled:s,"data-invalid":k(a),"data-focusable":k(u.focusable),"data-readonly":k(c),"data-disabled":k(s),onFocus(){u.focusable&&n({type:"INPUT.FOCUS",src:"trigger"})},onClick(h){h.defaultPrevented||l&&At(h)&&n("TRIGGER.CLICK")},onPointerDown(h){l&&h.pointerType!=="touch"&&(h.preventDefault(),queueMicrotask(()=>{var b;(b=I.getInputEl(e.context))==null||b.focus({preventScroll:!0})}))},onKeyDown(h){if(h.defaultPrevented||g)return;const b={ArrowDown(){n({type:"INPUT.ARROW_DOWN",src:"trigger"})},ArrowUp(){n({type:"INPUT.ARROW_UP",src:"trigger"})}},C=ut(h,e.context),T=b[C];T&&(T(h),h.preventDefault())}})},getContentProps(){return t.element({...Y.content.attrs,dir:e.context.dir,id:I.getContentId(e.context),role:g?"listbox":"dialog",tabIndex:-1,hidden:!i,"data-state":i?"open":"closed","data-placement":e.context.currentPlacement,"aria-labelledby":I.getLabelId(e.context),"aria-multiselectable":e.context.multiple&&g?!0:void 0,onPointerDown(u){u.preventDefault()}})},getListProps(){return t.element({...Y.list.attrs,role:g?void 0:"listbox","aria-labelledby":I.getLabelId(e.context),"aria-multiselectable":e.context.multiple&&!g?!0:void 0})},getClearTriggerProps(){return t.button({...Y.clearTrigger.attrs,dir:e.context.dir,id:I.getClearTriggerId(e.context),type:"button",tabIndex:-1,disabled:s,"data-invalid":k(a),"aria-label":o.clearTriggerLabel,"aria-controls":I.getInputId(e.context),hidden:!e.context.value.length,onPointerDown(u){u.preventDefault()},onClick(u){u.defaultPrevented||l&&n({type:"VALUE.CLEAR",src:"clear-trigger"})}})},getItemState:v,getItemProps(u){const h=v(u),b=h.value;return t.element({...Y.item.attrs,dir:e.context.dir,id:I.getItemId(e.context,b),role:"option",tabIndex:-1,"data-highlighted":k(h.highlighted),"data-state":h.selected?"checked":"unchecked","aria-selected":h.highlighted,"aria-disabled":h.disabled,"data-disabled":k(h.disabled),"data-value":h.value,onPointerMove(){h.disabled||h.highlighted||n({type:"ITEM.POINTER_MOVE",value:b})},onPointerLeave(){u.persistFocus||h.disabled||!e.previousEvent.type.includes("POINTER")||n({type:"ITEM.POINTER_LEAVE",value:b})},onPointerUp(C){_s(C)||Is(C)||co(C)||h.disabled||n({type:"ITEM.CLICK",src:"pointerup",value:b})},onTouchEnd(C){C.preventDefault(),C.stopPropagation()}})},getItemTextProps(u){const h=v(u);return t.element({...Y.itemText.attrs,dir:e.context.dir,"data-state":h.selected?"checked":"unchecked","data-disabled":k(h.disabled),"data-highlighted":k(h.highlighted)})},getItemIndicatorProps(u){const h=v(u);return t.element({"aria-hidden":!0,...Y.itemIndicator.attrs,dir:e.context.dir,"data-state":h.selected?"checked":"unchecked",hidden:!h.selected})},getItemGroupProps(u){const{id:h}=u;return t.element({...Y.itemGroup.attrs,dir:e.context.dir,id:I.getItemGroupId(e.context,h),"aria-labelledby":I.getItemGroupLabelId(e.context,h)})},getItemGroupLabelProps(u){const{htmlFor:h}=u;return t.element({...Y.itemGroupLabel.attrs,dir:e.context.dir,id:I.getItemGroupLabelId(e.context,h),role:"group"})}}}var{and:Z,not:Be}=jt;function al(e){const n=Ke(e);return Ht({id:"combobox",initial:n.open?"suggesting":"idle",context:{loopFocus:!0,openOnClick:!1,value:[],highlightedValue:null,inputValue:"",allowCustomValue:!1,closeOnSelect:!n.multiple,inputBehavior:"none",selectionBehavior:"replace",openOnKeyPress:!0,openOnChange:!0,composite:!0,readOnly:!1,disabled:!1,...n,highlightedItem:null,selectedItems:[],valueAsString:"",collection:n.collection??qt.empty(),positioning:{placement:"bottom",flip:!1,sameWidth:!0,...n.positioning},translations:{triggerLabel:"Toggle suggestions",clearTriggerLabel:"Clear value",...n.translations}},created:["syncInitialValues","syncSelectionBehavior"],computed:{isInputValueEmpty:t=>t.inputValue.length===0,isInteractive:t=>!(t.readOnly||t.disabled),autoComplete:t=>t.inputBehavior==="autocomplete",autoHighlight:t=>t.inputBehavior==="autohighlight",hasSelectedItems:t=>t.value.length>0},watch:{value:["syncSelectedItems"],inputValue:["syncInputValue"],highlightedValue:["syncHighlightedItem","autofillInputValue"],multiple:["syncSelectionBehavior"],open:["toggleVisibility"]},on:{"HIGHLIGHTED_VALUE.SET":{actions:["setHighlightedItem"]},"ITEM.SELECT":{actions:["selectItem"]},"ITEM.CLEAR":{actions:["clearItem"]},"VALUE.SET":{actions:["setSelectedItems"]},"INPUT_VALUE.SET":{actions:"setInputValue"},"COLLECTION.SET":{actions:["setCollection"]},"POSITIONING.SET":{actions:["reposition"]}},states:{idle:{tags:["idle","closed"],entry:["scrollContentToTop","clearHighlightedItem"],on:{"CONTROLLED.OPEN":{target:"interacting"},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]}],"INPUT.CLICK":[{guard:"isOpenControlled",actions:["highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightFirstSelectedItem","invokeOnOpen"]}],"INPUT.FOCUS":{target:"focused"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"interacting",actions:["invokeOnOpen"]}],"VALUE.CLEAR":{target:"focused",actions:["clearInputValue","clearSelectedItems","setInitialFocus"]}}},focused:{tags:["focused","closed"],entry:["scrollContentToTop","clearHighlightedItem"],on:{"CONTROLLED.OPEN":[{guard:"isChangeEvent",target:"suggesting"},{target:"interacting"}],"INPUT.CHANGE":[{guard:Z("isOpenControlled","openOnChange"),actions:["setInputValue","invokeOnOpen","highlightFirstItemIfNeeded"]},{guard:"openOnChange",target:"suggesting",actions:["setInputValue","invokeOnOpen","highlightFirstItemIfNeeded"]},{actions:"setInputValue"}],"LAYER.INTERACT_OUTSIDE":{target:"idle"},"INPUT.ESCAPE":{guard:Z("isCustomValue",Be("allowCustomValue")),actions:"revertInputValue"},"INPUT.BLUR":{target:"idle"},"INPUT.CLICK":[{guard:"isOpenControlled",actions:["highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightFirstSelectedItem","invokeOnOpen"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]}],"INPUT.ARROW_DOWN":[{guard:Z("isOpenControlled","autoComplete"),actions:["invokeOnOpen"]},{guard:"autoComplete",target:"interacting",actions:["invokeOnOpen"]},{guard:"isOpenControlled",actions:["highlightFirstOrSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightFirstOrSelectedItem","invokeOnOpen"]}],"INPUT.ARROW_UP":[{guard:"autoComplete",target:"interacting",actions:"invokeOnOpen"},{guard:"autoComplete",target:"interacting",actions:"invokeOnOpen"},{target:"interacting",actions:["highlightLastOrSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightLastOrSelectedItem","invokeOnOpen"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"interacting",actions:["invokeOnOpen"]}],"VALUE.CLEAR":{actions:["clearInputValue","clearSelectedItems"]}}},interacting:{tags:["open","focused"],entry:["setInitialFocus"],activities:["scrollToHighlightedItem","trackDismissableLayer","computePlacement","hideOtherElements"],on:{"CONTROLLED.CLOSE":[{guard:"restoreFocus",target:"focused",actions:["setFinalFocus"]},{target:"idle"}],"INPUT.HOME":{actions:["highlightFirstItem"]},"INPUT.END":{actions:["highlightLastItem"]},"INPUT.ARROW_DOWN":[{guard:Z("autoComplete","isLastItemHighlighted"),actions:["clearHighlightedItem","scrollContentToTop"]},{actions:["highlightNextItem"]}],"INPUT.ARROW_UP":[{guard:Z("autoComplete","isFirstItemHighlighted"),actions:"clearHighlightedItem"},{actions:"highlightPrevItem"}],"INPUT.ENTER":[{guard:Z("isOpenControlled","closeOnSelect"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","setFinalFocus"]},{actions:["selectHighlightedItem"]}],"INPUT.CHANGE":[{guard:"autoComplete",target:"suggesting",actions:["setInputValue","invokeOnOpen"]},{target:"suggesting",actions:["clearHighlightedItem","setInputValue","invokeOnOpen"]}],"ITEM.POINTER_MOVE":{actions:["setHighlightedItem"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedItem"]},"ITEM.CLICK":[{guard:Z("isOpenControlled","closeOnSelect"),actions:["selectItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectItem","invokeOnClose","setFinalFocus"]},{actions:["selectItem"]}],"LAYER.ESCAPE":[{guard:Z("isOpenControlled","autoComplete"),actions:["syncInputValue","invokeOnClose"]},{guard:"autoComplete",target:"focused",actions:["syncInputValue","invokeOnClose"]},{guard:"isOpenControlled",actions:"invokeOnClose"},{target:"focused",actions:["invokeOnClose","setFinalFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:"invokeOnClose"},{target:"focused",actions:"invokeOnClose"}],"LAYER.INTERACT_OUTSIDE":[{guard:Z("isOpenControlled","isCustomValue",Be("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:Z("isCustomValue",Be("allowCustomValue")),target:"idle",actions:["revertInputValue","invokeOnClose"]},{guard:"isOpenControlled",actions:"invokeOnClose"},{target:"idle",actions:"invokeOnClose"}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","setFinalFocus"]}],"VALUE.CLEAR":[{guard:"isOpenControlled",actions:["clearInputValue","clearSelectedItems","invokeOnClose"]},{target:"focused",actions:["clearInputValue","clearSelectedItems","invokeOnClose","setFinalFocus"]}]}},suggesting:{tags:["open","focused"],activities:["trackDismissableLayer","scrollToHighlightedItem","computePlacement","trackChildNodes","hideOtherElements"],entry:["setInitialFocus"],on:{"CONTROLLED.CLOSE":[{guard:"restoreFocus",target:"focused",actions:["setFinalFocus"]},{target:"idle"}],CHILDREN_CHANGE:{actions:["highlightFirstItem"]},"INPUT.ARROW_DOWN":{target:"interacting",actions:["highlightNextItem"]},"INPUT.ARROW_UP":{target:"interacting",actions:["highlightPrevItem"]},"INPUT.HOME":{target:"interacting",actions:["highlightFirstItem"]},"INPUT.END":{target:"interacting",actions:["highlightLastItem"]},"INPUT.ENTER":[{guard:Z("isOpenControlled","closeOnSelect"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","setFinalFocus"]},{actions:["selectHighlightedItem"]}],"INPUT.CHANGE":[{guard:"autoHighlight",actions:["setInputValue"]},{actions:["setInputValue"]}],"LAYER.ESCAPE":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose"]}],"ITEM.POINTER_MOVE":{target:"interacting",actions:["setHighlightedItem"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedItem"]},"LAYER.INTERACT_OUTSIDE":[{guard:Z("isOpenControlled","isCustomValue",Be("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:Z("isCustomValue",Be("allowCustomValue")),target:"idle",actions:["revertInputValue","invokeOnClose"]},{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose"]}],"ITEM.CLICK":[{guard:Z("isOpenControlled","closeOnSelect"),actions:["selectItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectItem","invokeOnClose","setFinalFocus"]},{actions:["selectItem"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","setFinalFocus"]}],"VALUE.CLEAR":[{guard:"isOpenControlled",actions:["clearInputValue","clearSelectedItems","invokeOnClose"]},{target:"focused",actions:["clearInputValue","clearSelectedItems","invokeOnClose","setFinalFocus"]}]}}}},{guards:{isInputValueEmpty:t=>t.isInputValueEmpty,autoComplete:t=>t.autoComplete&&!t.multiple,autoHighlight:t=>t.autoHighlight,isFirstItemHighlighted:t=>t.collection.firstValue===t.highlightedValue,isLastItemHighlighted:t=>t.collection.lastValue===t.highlightedValue,isCustomValue:t=>t.inputValue!==t.valueAsString,allowCustomValue:t=>!!t.allowCustomValue,hasHighlightedItem:t=>t.highlightedValue!=null,closeOnSelect:t=>!!t.closeOnSelect,isOpenControlled:t=>!!t["open.controlled"],openOnChange:(t,o)=>{var r;return xa(t.openOnChange)?t.openOnChange:!!((r=t.openOnChange)!=null&&r.call(t,{inputValue:o.value}))},restoreFocus:(t,o)=>o.restoreFocus==null?!0:!!o.restoreFocus,isChangeEvent:(t,o)=>{var r;return((r=o.previousEvent)==null?void 0:r.type)==="INPUT.CHANGE"}},activities:{trackDismissableLayer(t,o,{send:r}){return t.disableLayer?void 0:go(()=>I.getContentEl(t),{defer:!0,exclude:()=>[I.getInputEl(t),I.getTriggerEl(t),I.getClearTriggerEl(t)],onFocusOutside:t.onFocusOutside,onPointerDownOutside:t.onPointerDownOutside,onInteractOutside:t.onInteractOutside,onEscapeKeyDown(l){l.preventDefault(),l.stopPropagation(),r("LAYER.ESCAPE")},onDismiss(){r({type:"LAYER.INTERACT_OUTSIDE",restoreFocus:!1})}})},hideOtherElements(t){return Ki([I.getInputEl(t),I.getContentEl(t),I.getTriggerEl(t)])},computePlacement(t){const o=()=>I.getControlEl(t),r=()=>I.getPositionerEl(t);return t.currentPlacement=t.positioning.placement,Lt(o,r,{...t.positioning,defer:!0,onComplete(s){t.currentPlacement=s.placement}})},trackChildNodes(t,o,{send:r}){return t.autoHighlight?$s(()=>I.getContentEl(t),{callback:()=>r("CHILDREN_CHANGE"),defer:!0}):void 0},scrollToHighlightedItem(t,o,{getState:r}){const s=I.getInputEl(t);let l=[];const a=d=>{if(r().event.type.includes("POINTER")||!t.highlightedValue)return;const f=I.getHighlightedItemEl(t),v=I.getContentEl(t);if(t.scrollToIndexFn){const h=t.collection.indexOf(t.highlightedValue);t.scrollToIndexFn({index:h,immediate:d});return}const u=x(()=>{Ms(f,{rootEl:v,block:"nearest"})});l.push(u)},c=x(()=>a(!0));l.push(c);const i=xs(s,{attributes:["aria-activedescendant"],callback:()=>a(!1)});return l.push(i),()=>{l.forEach(d=>d())}}},actions:{reposition(t,o){Lt(()=>I.getControlEl(t),()=>I.getPositionerEl(t),{...t.positioning,...o.options,defer:!0,listeners:!1,onComplete(l){t.currentPlacement=l.placement}})},setHighlightedItem(t,o){o.value!=null&&H.highlightedValue(t,o.value)},clearHighlightedItem(t){H.highlightedValue(t,null,!0)},selectHighlightedItem(t){H.value(t,t.highlightedValue)},selectItem(t,o){o.value!=null&&H.value(t,o.value)},clearItem(t,o){if(o.value==null)return;const r=t.value.filter(s=>s!==o.value);H.value(t,r)},setInitialFocus(t){x(()=>{I.focusInputEl(t)})},setFinalFocus(t){x(()=>{const o=I.getTriggerEl(t);(o==null?void 0:o.dataset.focusable)==null?I.focusInputEl(t):I.focusTriggerEl(t)})},syncInputValue(t){const o=I.getInputEl(t);o&&(o.value=t.inputValue,queueMicrotask(()=>{const{selectionStart:r,selectionEnd:s}=o;Math.abs((s??0)-(r??0))===0&&r===0&&o.setSelectionRange(o.value.length,o.value.length)}))},setInputValue(t,o){H.inputValue(t,o.value)},clearInputValue(t){H.inputValue(t,"")},revertInputValue(t){const o=ct(t.selectionBehavior,{replace:t.hasSelectedItems?t.valueAsString:"",preserve:t.inputValue,clear:""});H.inputValue(t,o)},syncInitialValues(t){const o=t.collection.findMany(t.value),r=t.collection.stringifyMany(t.value);t.highlightedItem=t.collection.find(t.highlightedValue),t.selectedItems=o,t.valueAsString=r,!(t.inputValue.trim()||t.multiple)&&(t.inputValue=ct(t.selectionBehavior,{preserve:t.inputValue||r,replace:r,clear:""}))},syncSelectionBehavior(t){t.multiple&&(t.selectionBehavior="clear")},setSelectedItems(t,o){Gt(o.value)&&H.value(t,o.value)},clearSelectedItems(t){H.value(t,[])},scrollContentToTop(t){if(t.scrollToIndexFn)t.scrollToIndexFn({index:0,immediate:!0});else{const o=I.getContentEl(t);if(!o)return;o.scrollTop=0}},invokeOnOpen(t){var o;(o=t.onOpenChange)==null||o.call(t,{open:!0})},invokeOnClose(t){var o;(o=t.onOpenChange)==null||o.call(t,{open:!1})},highlightFirstItem(t){x(()=>{const o=t.collection.firstValue;H.highlightedValue(t,o)})},highlightFirstItemIfNeeded(t){t.autoHighlight&&x(()=>{const o=t.collection.firstValue;H.highlightedValue(t,o)})},highlightLastItem(t){x(()=>{const o=t.collection.lastValue;H.highlightedValue(t,o)})},highlightNextItem(t){let o=null;t.highlightedValue?(o=t.collection.getNextValue(t.highlightedValue),!o&&t.loopFocus&&(o=t.collection.firstValue)):o=t.collection.firstValue,H.highlightedValue(t,o)},highlightPrevItem(t){let o=null;t.highlightedValue?(o=t.collection.getPreviousValue(t.highlightedValue),!o&&t.loopFocus&&(o=t.collection.lastValue)):o=t.collection.lastValue,H.highlightedValue(t,o)},highlightFirstSelectedItem(t){x(()=>{const[o]=t.collection.sort(t.value);H.highlightedValue(t,o)})},highlightFirstOrSelectedItem(t){x(()=>{let o=null;t.hasSelectedItems?o=t.collection.sort(t.value)[0]:o=t.collection.firstValue,H.highlightedValue(t,o)})},highlightLastOrSelectedItem(t){x(()=>{let o=null;t.hasSelectedItems?o=t.collection.sort(t.value)[0]:o=t.collection.lastValue,H.highlightedValue(t,o)})},autofillInputValue(t,o){const r=I.getInputEl(t);if(!t.autoComplete||!r||!o.keypress)return;const s=t.collection.stringify(t.highlightedValue);x(()=>{r.value=s||t.inputValue})},setCollection(t,o){t.collection=o.value},syncSelectedItems(t){dt.valueChange(t)},syncHighlightedItem(t){dt.highlightChange(t)},toggleVisibility(t,o,{send:r}){r({type:t.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:o})}}})}var dt={valueChange:e=>{const n=e.selectedItems;e.selectedItems=e.value.map(r=>{const s=n.find(l=>e.collection.getItemValue(l)===r);return s||e.collection.find(r)});const t=e.collection.stringifyItems(e.selectedItems);e.valueAsString=t;let o;e.getSelectionValue?o=e.getSelectionValue({inputValue:e.inputValue,selectedItems:Array.from(e.selectedItems),valueAsString:t}):o=ct(e.selectionBehavior,{replace:e.valueAsString,preserve:e.inputValue,clear:""}),H.inputValue(e,o)},highlightChange:e=>{e.highlightedItem=e.collection.find(e.highlightedValue)}},Ye={valueChange:e=>{var n;dt.valueChange(e),(n=e.onValueChange)==null||n.call(e,{value:Array.from(e.value),items:Array.from(e.selectedItems)})},highlightChange:e=>{var n;dt.highlightChange(e),(n=e.onHighlightChange)==null||n.call(e,{highlightedValue:e.highlightedValue,highlightedItem:e.highlightedItem})},inputChange:e=>{var n;(n=e.onInputValueChange)==null||n.call(e,{inputValue:e.inputValue})}},H={value:(e,n,t=!1)=>{if(!Le(e.value,n)&&!(n==null&&!t)){if(n==null&&t){e.value=[],Ye.valueChange(e);return}Gt(n)?e.value=n:n!=null&&(e.value=e.multiple?Na(e.value,n):[n]),Ye.valueChange(e)}},highlightedValue:(e,n,t=!1)=>{Le(e.highlightedValue,n)||!n&&!t||(e.highlightedValue=n||null,Ye.highlightChange(e))},inputValue:(e,n)=>{Le(e.inputValue,n)||(e.inputValue=n,Ye.inputChange(e))}};const il=y("span",{class:"text-lg i-ic:sharp-arrow-drop-down group-data-[focus]:i-ic:sharp-arrow-drop-up"},null,-1),ll=[il],fo=L({__name:"Combobox",props:{id:{},items:{},defaultValue:{}},setup(e){const n=e,t=W(n.items),o=K(()=>qt({items:t.value,itemToValue:a=>a.value,itemToString:a=>a.label})),[r,s]=zt(al({id:n.id,collection:o.value,value:[n.defaultValue],openOnClick:!0,closeOnSelect:!1,onOpenChange:()=>{t.value=n.items},onInputValueChange:({inputValue:a})=>{const c=n.items.filter(i=>i.label.toLowerCase().includes(a.toLowerCase()));t.value=c.length>0?c:n.items},onValueChange:({value:a})=>{const c=n.items.find(i=>i.value===a[0]);c==null||c.onSelect()}}),{context:K(()=>({collection:o.value}))}),l=K(()=>sl(r.value,s,Wt));return(a,c)=>(O(),V("div",M(m(l).getRootProps(),{relative:""}),[y("div",M(m(l).getControlProps(),{class:"group hstack h-9 gap-x-2 px-2 py-1 rounded-md border-1.5 data-[focus]:border-primary"}),[y("input",M(m(l).getInputProps(),{class:"w-full outline-none bg-transparent capitalize"}),null,16),y("button",M(m(l).getTriggerProps(),{"size-5":"","flex-center":""}),ll,16)],16),y("div",pe(ge(m(l).getPositionerProps())),[m(t).length>0?(O(),V("ul",M({key:0},m(l).getContentProps(),{class:"z-20 max-h-60 -mt-1 p-1 bg-background border rounded-md shadow-c overflow-y-scroll"}),[(O(!0),V(he,null,Ge(m(t),i=>(O(),V("li",M({key:i.value,ref_for:!0},m(l).getItemProps({item:i}),{class:"px-2 py-1.5 rounded-sm truncate cursor-pointer data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground data-[state=checked]:bg-accent data-[state=checked]:text-accent-foreground"}),R(i.label),17))),128))],16)):ze("",!0)],16)],16))}}),cl=L({__name:"Paper",setup(e){const{styles:n,setStyle:t}=me(),{PAPER:o}=ht(),r=Object.keys(o.SIZES).map(s=>({label:s,value:s,onSelect:()=>t("paper",s)}));return(s,l)=>{const a=fo,c=be;return O(),F(c,{text:s.$t("toolbar.paper_size"),icon:"i-majesticons:paper-fold-line"},{default:_(()=>[E(a,{id:"paper-size",class:"capitalize",items:m(r),"default-value":m(n).paper},null,8,["items","default-value"])]),_:1},8,["text"])}}});function ul(e,n,t){return Math.round((e-n)/t)*t+n}function le(e,n,t){return Math.min(Math.max(e,n),t)}function dl(e,n,t){return(e-n)/(t-n)}function hl(e,n,t,o){const r=e*(t-n)+n,s=ul(r,n,o);return le(s,n,t)}function Ze(e,n){let t=e,o=n.toString(),r=o.indexOf("."),s=r>=0?o.length-r:0;if(s>0){let l=Math.pow(10,s);t=Math.round(t*l)/l}return t}function On(e,n,t,o){n=Number(n),t=Number(t);let r=(e-(isNaN(n)?0:n))%o,s=Ze(Math.abs(r)*2>=o?e+Math.sign(r)*(o-Math.abs(r)):e-r,o);return isNaN(n)?!isNaN(t)&&s>t&&(s=Math.floor(Ze(t/o,o))*o):s<n?s=n:!isNaN(t)&&s>t&&(s=n+Math.floor(Ze((t-n)/o,o))*o),s=Ze(s,o),s}function D(e,n=0,t=10){const o=Math.pow(t,n);return Math.round(e*o)/o}function mo(e,n){return(e%n+n)%n}var pl=Object.defineProperty,gl=(e,n,t)=>n in e?pl(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,Jt=(e,n,t)=>gl(e,n+"",t),fl=(e,n,t)=>{const o=`linear-gradient(to ${e[+!n]}, transparent, #000)`;return{areaStyles:{backgroundImage:`linear-gradient(to ${e[Number(n)]},rgb(${t},0,0),rgb(${t},255,0))`},areaGradientStyles:{backgroundImage:`linear-gradient(to ${e[Number(n)]},rgb(${t},0,255),rgb(${t},255,255))`,WebkitMaskImage:o,maskImage:o}}},ml=(e,n,t)=>{const o=`linear-gradient(to ${e[+!n]}, transparent, #000)`;return{areaStyles:{backgroundImage:`linear-gradient(to ${e[Number(n)]},rgb(0,${t},0),rgb(255,${t},0))`},areaGradientStyles:{backgroundImage:`linear-gradient(to ${e[Number(n)]},rgb(0,${t},255),rgb(255,${t},255))`,WebkitMaskImage:o,maskImage:o}}},bl=(e,n,t)=>{const o=`linear-gradient(to ${e[+!n]}, transparent, #000)`;return{areaStyles:{backgroundImage:`linear-gradient(to ${e[Number(n)]},rgb(0,0,${t}),rgb(255,0,${t}))`},areaGradientStyles:{backgroundImage:`linear-gradient(to ${e[Number(n)]},rgb(0,255,${t}),rgb(255,255,${t}))`,WebkitMaskImage:o,maskImage:o}}},vl=(e,n,t)=>({areaStyles:{},areaGradientStyles:{background:[`linear-gradient(to ${e[Number(n)]}, hsla(0,0%,0%,1) 0%, hsla(0,0%,0%,0) 50%, hsla(0,0%,100%,0) 50%, hsla(0,0%,100%,1) 100%)`,`linear-gradient(to ${e[+!n]},hsl(0,0%,50%),hsla(0,0%,50%,0))`,`hsl(${t}, 100%, 50%)`].join(",")}}),yl=(e,n,t)=>({areaStyles:{},areaGradientStyles:{background:[`linear-gradient(to ${e[+!n]}, hsla(0,0%,0%,${t}) 0%, hsla(0,0%,0%,0) 50%, hsla(0,0%,100%,0) 50%, hsla(0,0%,100%,${t}) 100%)`,`linear-gradient(to ${e[Number(n)]},hsla(0,100%,50%,${t}),hsla(60,100%,50%,${t}),hsla(120,100%,50%,${t}),hsla(180,100%,50%,${t}),hsla(240,100%,50%,${t}),hsla(300,100%,50%,${t}),hsla(359,100%,50%,${t}))`,"hsl(0, 0%, 50%)"].join(",")}}),Cl=(e,n,t)=>({areaStyles:{},areaGradientStyles:{backgroundImage:[`linear-gradient(to ${e[+!n]},hsl(0,0%,${t}%),hsla(0,0%,${t}%,0))`,`linear-gradient(to ${e[Number(n)]},hsl(0,100%,${t}%),hsl(60,100%,${t}%),hsl(120,100%,${t}%),hsl(180,100%,${t}%),hsl(240,100%,${t}%),hsl(300,100%,${t}%),hsl(360,100%,${t}%))`].join(",")}}),El=(e,n,t)=>({areaStyles:{},areaGradientStyles:{background:[`linear-gradient(to ${e[Number(n)]},hsl(0,0%,0%),hsla(0,0%,0%,0))`,`linear-gradient(to ${e[+!n]},hsl(0,0%,100%),hsla(0,0%,100%,0))`,`hsl(${t}, 100%, 50%)`].join(",")}}),Sl=(e,n,t)=>({areaStyles:{},areaGradientStyles:{background:[`linear-gradient(to ${e[+!n]},hsla(0,0%,0%,${t}),hsla(0,0%,0%,0))`,`linear-gradient(to ${e[Number(n)]},hsla(0,100%,50%,${t}),hsla(60,100%,50%,${t}),hsla(120,100%,50%,${t}),hsla(180,100%,50%,${t}),hsla(240,100%,50%,${t}),hsla(300,100%,50%,${t}),hsla(359,100%,50%,${t}))`,`linear-gradient(to ${e[+!n]},hsl(0,0%,0%),hsl(0,0%,100%))`].join(",")}}),Il=(e,n,t)=>({areaStyles:{},areaGradientStyles:{background:[`linear-gradient(to ${e[+!n]},hsla(0,0%,100%,${t}),hsla(0,0%,100%,0))`,`linear-gradient(to ${e[Number(n)]},hsla(0,100%,50%,${t}),hsla(60,100%,50%,${t}),hsla(120,100%,50%,${t}),hsla(180,100%,50%,${t}),hsla(240,100%,50%,${t}),hsla(300,100%,50%,${t}),hsla(359,100%,50%,${t}))`,"#000"].join(",")}});function kn(e,n){const{xChannel:t,yChannel:o,dir:r="ltr"}=n,{zChannel:s}=e.getColorAxes({xChannel:t,yChannel:o}),l=e.getChannelValue(s),{minValue:a,maxValue:c}=e.getChannelRange(s),i=["top",r==="rtl"?"left":"right"];let d=!1,g={areaStyles:{},areaGradientStyles:{}},p=(l-a)/(c-a),f=e.getFormat()==="hsla";switch(s){case"red":{d=t==="green",g=fl(i,d,l);break}case"green":{d=t==="red",g=ml(i,d,l);break}case"blue":{d=t==="red",g=bl(i,d,l);break}case"hue":{d=t!=="saturation",f?g=vl(i,d,l):g=El(i,d,l);break}case"saturation":{d=t==="hue",f?g=yl(i,d,p):g=Sl(i,d,p);break}case"brightness":{d=t==="hue",g=Il(i,d,p);break}case"lightness":{d=t==="hue",g=Cl(i,d,l);break}}return g}var _l=(e,n)=>{if(Object.keys(e).length!==Object.keys(n).length)return!1;for(let t in e)if(e[t]!==n[t])return!1;return!0},Xt=class{toHexInt(){return this.toFormat("rgba").toHexInt()}getChannelValue(e){if(e in this)return this[e];throw new Error("Unsupported color channel: "+e)}getChannelValuePercent(e,n){const t=n??this.getChannelValue(e),{minValue:o,maxValue:r}=this.getChannelRange(e);return dl(t,o,r)}getChannelPercentValue(e,n){const{minValue:t,maxValue:o,step:r}=this.getChannelRange(e),s=hl(n,t,o,r);return On(s,t,o,r)}withChannelValue(e,n){const{minValue:t,maxValue:o}=this.getChannelRange(e);if(e in this){let r=this.clone();return r[e]=le(n,t,o),r}throw new Error("Unsupported color channel: "+e)}getColorAxes(e){let{xChannel:n,yChannel:t}=e,o=n||this.getChannels().find(l=>l!==t),r=t||this.getChannels().find(l=>l!==o),s=this.getChannels().find(l=>l!==o&&l!==r);return{xChannel:o,yChannel:r,zChannel:s}}incrementChannel(e,n){const{minValue:t,maxValue:o,step:r}=this.getChannelRange(e),s=On(le(this.getChannelValue(e)+n,t,o),t,o,r);return this.withChannelValue(e,s)}decrementChannel(e,n){return this.incrementChannel(e,-n)}isEqual(e){return _l(this.toJSON(),e.toJSON())&&this.getChannelValue("alpha")===e.getChannelValue("alpha")}},bo=class nt extends Xt{constructor(n,t,o,r){super(),this.red=n,this.green=t,this.blue=o,this.alpha=r}static parse(n){let t=[];if(/^#[\da-f]+$/i.test(n)&&[4,5,7,9].includes(n.length)){const r=(n.length<6?n.replace(/[^#]/gi,"$&$&"):n).slice(1).split("");for(;r.length>0;)t.push(parseInt(r.splice(0,2).join(""),16));t[3]=t[3]!==void 0?t[3]/255:void 0}const o=n.match(/^rgba?\((.*)\)$/);return o!=null&&o[1]&&(t=o[1].split(",").map(r=>Number(r.trim())).map((r,s)=>le(r,0,s<3?255:1))),t.length<3?void 0:new nt(t[0],t[1],t[2],t[3]??1)}toString(n){switch(n){case"hex":return"#"+(this.red.toString(16).padStart(2,"0")+this.green.toString(16).padStart(2,"0")+this.blue.toString(16).padStart(2,"0")).toUpperCase();case"hexa":return"#"+(this.red.toString(16).padStart(2,"0")+this.green.toString(16).padStart(2,"0")+this.blue.toString(16).padStart(2,"0")+Math.round(this.alpha*255).toString(16).padStart(2,"0")).toUpperCase();case"rgb":return`rgb(${this.red}, ${this.green}, ${this.blue})`;case"css":case"rgba":return`rgba(${this.red}, ${this.green}, ${this.blue}, ${this.alpha})`;case"hsl":return this.toHSL().toString("hsl");case"hsb":return this.toHSB().toString("hsb");default:return this.toFormat(n).toString(n)}}toFormat(n){switch(n){case"rgba":return this;case"hsba":return this.toHSB();case"hsla":return this.toHSL();default:throw new Error("Unsupported color conversion: rgb -> "+n)}}toHexInt(){return this.red<<16|this.green<<8|this.blue}toHSB(){const n=this.red/255,t=this.green/255,o=this.blue/255,r=Math.min(n,t,o),s=Math.max(n,t,o),l=s-r,a=s===0?0:l/s;let c=0;if(l!==0){switch(s){case n:c=(t-o)/l+(t<o?6:0);break;case t:c=(o-n)/l+2;break;case o:c=(n-t)/l+4;break}c/=6}return new Qt(D(c*360,2),D(a*100,2),D(s*100,2),D(this.alpha,2))}toHSL(){const n=this.red/255,t=this.green/255,o=this.blue/255,r=Math.min(n,t,o),s=Math.max(n,t,o),l=(s+r)/2,a=s-r;let c=-1,i=-1;if(a===0)c=i=0;else{switch(i=a/(l<.5?s+r:2-s-r),s){case n:c=(t-o)/a+(t<o?6:0);break;case t:c=(o-n)/a+2;break;case o:c=(n-t)/a+4;break}c/=6}return new Zt(D(c*360,2),D(i*100,2),D(l*100,2),D(this.alpha,2))}clone(){return new nt(this.red,this.green,this.blue,this.alpha)}getChannelFormatOptions(n){switch(n){case"red":case"green":case"blue":return{style:"decimal"};case"alpha":return{style:"percent"};default:throw new Error("Unknown color channel: "+n)}}formatChannelValue(n,t){let o=this.getChannelFormatOptions(n),r=this.getChannelValue(n);return new Intl.NumberFormat(t,o).format(r)}getChannelRange(n){switch(n){case"red":case"green":case"blue":return{minValue:0,maxValue:255,step:1,pageSize:17};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+n)}}toJSON(){return{r:this.red,g:this.green,b:this.blue,a:this.alpha}}getFormat(){return"rgba"}getChannels(){return nt.colorChannels}};Jt(bo,"colorChannels",["red","green","blue"]);var Yt=bo,wl=/hsl\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%)\)|hsla\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d(.\d+)?)\)/,vo=class ot extends Xt{constructor(n,t,o,r){super(),this.hue=n,this.saturation=t,this.lightness=o,this.alpha=r}static parse(n){let t;if(t=n.match(wl)){const[o,r,s,l]=(t[1]??t[2]).split(",").map(a=>Number(a.trim().replace("%","")));return new ot(mo(o,360),le(r,0,100),le(s,0,100),le(l??1,0,1))}}toString(n){switch(n){case"hex":return this.toRGB().toString("hex");case"hexa":return this.toRGB().toString("hexa");case"hsl":return`hsl(${this.hue}, ${D(this.saturation,2)}%, ${D(this.lightness,2)}%)`;case"css":case"hsla":return`hsla(${this.hue}, ${D(this.saturation,2)}%, ${D(this.lightness,2)}%, ${this.alpha})`;case"hsb":return this.toHSB().toString("hsb");case"rgb":return this.toRGB().toString("rgb");default:return this.toFormat(n).toString(n)}}toFormat(n){switch(n){case"hsla":return this;case"hsba":return this.toHSB();case"rgba":return this.toRGB();default:throw new Error("Unsupported color conversion: hsl -> "+n)}}toHSB(){let n=this.saturation/100,t=this.lightness/100,o=t+n*Math.min(t,1-t);return n=o===0?0:2*(1-t/o),new Qt(D(this.hue,2),D(n*100,2),D(o*100,2),D(this.alpha,2))}toRGB(){let n=this.hue,t=this.saturation/100,o=this.lightness/100,r=t*Math.min(o,1-o),s=(l,a=(l+n/30)%12)=>o-r*Math.max(Math.min(a-3,9-a,1),-1);return new Yt(Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255),D(this.alpha,2))}clone(){return new ot(this.hue,this.saturation,this.lightness,this.alpha)}getChannelFormatOptions(n){switch(n){case"hue":return{style:"unit",unit:"degree",unitDisplay:"narrow"};case"saturation":case"lightness":case"alpha":return{style:"percent"};default:throw new Error("Unknown color channel: "+n)}}formatChannelValue(n,t){let o=this.getChannelFormatOptions(n),r=this.getChannelValue(n);return(n==="saturation"||n==="lightness")&&(r/=100),new Intl.NumberFormat(t,o).format(r)}getChannelRange(n){switch(n){case"hue":return{minValue:0,maxValue:360,step:1,pageSize:15};case"saturation":case"lightness":return{minValue:0,maxValue:100,step:1,pageSize:10};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+n)}}toJSON(){return{h:this.hue,s:this.saturation,l:this.lightness,a:this.alpha}}getFormat(){return"hsla"}getChannels(){return ot.colorChannels}};Jt(vo,"colorChannels",["hue","saturation","lightness"]);var Zt=vo,Ol=/hsb\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%)\)|hsba\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d(.\d+)?)\)/,yo=class rt extends Xt{constructor(n,t,o,r){super(),this.hue=n,this.saturation=t,this.brightness=o,this.alpha=r}static parse(n){let t;if(t=n.match(Ol)){const[o,r,s,l]=(t[1]??t[2]).split(",").map(a=>Number(a.trim().replace("%","")));return new rt(mo(o,360),le(r,0,100),le(s,0,100),le(l??1,0,1))}}toString(n){switch(n){case"css":return this.toHSL().toString("css");case"hex":return this.toRGB().toString("hex");case"hexa":return this.toRGB().toString("hexa");case"hsb":return`hsb(${this.hue}, ${D(this.saturation,2)}%, ${D(this.brightness,2)}%)`;case"hsba":return`hsba(${this.hue}, ${D(this.saturation,2)}%, ${D(this.brightness,2)}%, ${this.alpha})`;case"hsl":return this.toHSL().toString("hsl");case"rgb":return this.toRGB().toString("rgb");default:return this.toFormat(n).toString(n)}}toFormat(n){switch(n){case"hsba":return this;case"hsla":return this.toHSL();case"rgba":return this.toRGB();default:throw new Error("Unsupported color conversion: hsb -> "+n)}}toHSL(){let n=this.saturation/100,t=this.brightness/100,o=t*(1-n/2);return n=o===0||o===1?0:(t-o)/Math.min(o,1-o),new Zt(D(this.hue,2),D(n*100,2),D(o*100,2),D(this.alpha,2))}toRGB(){let n=this.hue,t=this.saturation/100,o=this.brightness/100,r=(s,l=(s+n/60)%6)=>o-t*o*Math.max(Math.min(l,4-l,1),0);return new Yt(Math.round(r(5)*255),Math.round(r(3)*255),Math.round(r(1)*255),D(this.alpha,2))}clone(){return new rt(this.hue,this.saturation,this.brightness,this.alpha)}getChannelFormatOptions(n){switch(n){case"hue":return{style:"unit",unit:"degree",unitDisplay:"narrow"};case"saturation":case"brightness":case"alpha":return{style:"percent"};default:throw new Error("Unknown color channel: "+n)}}formatChannelValue(n,t){let o=this.getChannelFormatOptions(n),r=this.getChannelValue(n);return(n==="saturation"||n==="brightness")&&(r/=100),new Intl.NumberFormat(t,o).format(r)}getChannelRange(n){switch(n){case"hue":return{minValue:0,maxValue:360,step:1,pageSize:15};case"saturation":case"brightness":return{minValue:0,maxValue:100,step:1,pageSize:10};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+n)}}toJSON(){return{h:this.hue,s:this.saturation,b:this.brightness,a:this.alpha}}getFormat(){return"hsba"}getChannels(){return rt.colorChannels}};Jt(yo,"colorChannels",["hue","saturation","brightness"]);var Qt=yo,kl="aliceblue:f0f8ff,antiquewhite:faebd7,aqua:00ffff,aquamarine:7fffd4,azure:f0ffff,beige:f5f5dc,bisque:ffe4c4,black:000000,blanchedalmond:ffebcd,blue:0000ff,blueviolet:8a2be2,brown:a52a2a,burlywood:deb887,cadetblue:5f9ea0,chartreuse:7fff00,chocolate:d2691e,coral:ff7f50,cornflowerblue:6495ed,cornsilk:fff8dc,crimson:dc143c,cyan:00ffff,darkblue:00008b,darkcyan:008b8b,darkgoldenrod:b8860b,darkgray:a9a9a9,darkgreen:006400,darkkhaki:bdb76b,darkmagenta:8b008b,darkolivegreen:556b2f,darkorange:ff8c00,darkorchid:9932cc,darkred:8b0000,darksalmon:e9967a,darkseagreen:8fbc8f,darkslateblue:483d8b,darkslategray:2f4f4f,darkturquoise:00ced1,darkviolet:9400d3,deeppink:ff1493,deepskyblue:00bfff,dimgray:696969,dodgerblue:1e90ff,firebrick:b22222,floralwhite:fffaf0,forestgreen:228b22,fuchsia:ff00ff,gainsboro:dcdcdc,ghostwhite:f8f8ff,gold:ffd700,goldenrod:daa520,gray:808080,green:008000,greenyellow:adff2f,honeydew:f0fff0,hotpink:ff69b4,indianred:cd5c5c,indigo:4b0082,ivory:fffff0,khaki:f0e68c,lavender:e6e6fa,lavenderblush:fff0f5,lawngreen:7cfc00,lemonchiffon:fffacd,lightblue:add8e6,lightcoral:f08080,lightcyan:e0ffff,lightgoldenrodyellow:fafad2,lightgrey:d3d3d3,lightgreen:90ee90,lightpink:ffb6c1,lightsalmon:ffa07a,lightseagreen:20b2aa,lightskyblue:87cefa,lightslategray:778899,lightsteelblue:b0c4de,lightyellow:ffffe0,lime:00ff00,limegreen:32cd32,linen:faf0e6,magenta:ff00ff,maroon:800000,mediumaquamarine:66cdaa,mediumblue:0000cd,mediumorchid:ba55d3,mediumpurple:9370d8,mediumseagreen:3cb371,mediumslateblue:7b68ee,mediumspringgreen:00fa9a,mediumturquoise:48d1cc,mediumvioletred:c71585,midnightblue:191970,mintcream:f5fffa,mistyrose:ffe4e1,moccasin:ffe4b5,navajowhite:ffdead,navy:000080,oldlace:fdf5e6,olive:808000,olivedrab:6b8e23,orange:ffa500,orangered:ff4500,orchid:da70d6,palegoldenrod:eee8aa,palegreen:98fb98,paleturquoise:afeeee,palevioletred:d87093,papayawhip:ffefd5,peachpuff:ffdab9,peru:cd853f,pink:ffc0cb,plum:dda0dd,powderblue:b0e0e6,purple:800080,red:ff0000,rosybrown:bc8f8f,royalblue:4169e1,saddlebrown:8b4513,salmon:fa8072,sandybrown:f4a460,seagreen:2e8b57,seashell:fff5ee,sienna:a0522d,silver:c0c0c0,skyblue:87ceeb,slateblue:6a5acd,slategray:708090,snow:fffafa,springgreen:00ff7f,steelblue:4682b4,tan:d2b48c,teal:008080,thistle:d8bfd8,tomato:ff6347,turquoise:40e0d0,violet:ee82ee,wheat:f5deb3,white:ffffff,whitesmoke:f5f5f5,yellow:ffff00,yellowgreen:9acd32",Tl=e=>{const n=new Map,t=e.split(",");for(let o=0;o<t.length;o++){const[r,s]=t[o].split(":");n.set(r,`#${s}`)}return n},Tn=Tl(kl),Ce=e=>{var t;if(Tn.has(e))return Ce(Tn.get(e));const n=Yt.parse(e)||Qt.parse(e)||Zt.parse(e);if(!n){const o=new Error("Invalid color value: "+e);throw(t=Error.captureStackTrace)==null||t.call(Error,o,Ce),o}return n},Pn=e=>typeof e=="string"?Ce(e):e,Co=e=>e.ownerDocument.defaultView||window;function Pl(e,n){const{type:t="HTMLInputElement",property:o="value"}=n,r=Co(e)[t].prototype;return Object.getOwnPropertyDescriptor(r,o)??{}}function Al(e,n,t={}){var r;(r=Pl(e,t).set)==null||r.call(e,n),e.setAttribute("value",n)}function Nl(e,n){const{value:t,bubbles:o=!0}=n;if(!e)return;const r=Co(e);e instanceof r.HTMLInputElement&&(Al(e,`${t}`),e.dispatchEvent(new r.Event("input",{bubbles:o})))}function Ll(e){return Fl(e)?e.form:e.closest("form")}function Fl(e){return e.matches("textarea, input, select, button")}function Rl(e,n){if(!e)return;const t=Ll(e);return t==null||t.addEventListener("reset",n,{passive:!0}),()=>{t==null||t.removeEventListener("reset",n)}}function xl(e,n){const t=e==null?void 0:e.closest("fieldset");if(!t)return;n(t.disabled);const o=t.ownerDocument.defaultView||window,r=new o.MutationObserver(()=>n(t.disabled));return r.observe(t,{attributes:!0,attributeFilter:["disabled"]}),()=>r.disconnect()}function Vl(e,n){if(!e)return;const{onFieldsetDisabledChange:t,onFormReset:o}=n,r=[Rl(e,o),xl(e,t)];return()=>{r.forEach(s=>s==null?void 0:s())}}var $l=Ne("color-picker",["root","label","control","trigger","positioner","content","area","areaThumb","valueText","areaBackground","channelSlider","channelSliderLabel","channelSliderTrack","channelSliderThumb","channelSliderValueText","channelInput","transparencyGrid","swatchGroup","swatchTrigger","swatchIndicator","swatch","eyeDropperTrigger","formatTrigger","formatSelect"]),B=$l.build(),S=Mt({getRootId:e=>{var n;return((n=e.ids)==null?void 0:n.root)??`color-picker:${e.id}`},getLabelId:e=>{var n;return((n=e.ids)==null?void 0:n.label)??`color-picker:${e.id}:label`},getHiddenInputId:e=>{var n;return((n=e.ids)==null?void 0:n.hiddenInput)??`color-picker:${e.id}:hidden-input`},getControlId:e=>{var n;return((n=e.ids)==null?void 0:n.control)??`color-picker:${e.id}:control`},getTriggerId:e=>{var n;return((n=e.ids)==null?void 0:n.trigger)??`color-picker:${e.id}:trigger`},getContentId:e=>{var n;return((n=e.ids)==null?void 0:n.content)??`color-picker:${e.id}:content`},getPositionerId:e=>{var n;return((n=e.ids)==null?void 0:n.positioner)??`color-picker:${e.id}:positioner`},getFormatSelectId:e=>{var n;return((n=e.ids)==null?void 0:n.formatSelect)??`color-picker:${e.id}:format-select`},getAreaId:e=>{var n;return((n=e.ids)==null?void 0:n.area)??`color-picker:${e.id}:area`},getAreaGradientId:e=>{var n;return((n=e.ids)==null?void 0:n.areaGradient)??`color-picker:${e.id}:area-gradient`},getAreaThumbId:e=>{var n;return((n=e.ids)==null?void 0:n.areaThumb)??`color-picker:${e.id}:area-thumb`},getChannelSliderTrackId:(e,n)=>{var t,o;return((o=(t=e.ids)==null?void 0:t.channelSliderTrack)==null?void 0:o.call(t,n))??`color-picker:${e.id}:slider-track:${n}`},getChannelSliderThumbId:(e,n)=>{var t,o;return((o=(t=e.ids)==null?void 0:t.channelSliderThumb)==null?void 0:o.call(t,n))??`color-picker:${e.id}:slider-thumb:${n}`},getContentEl:e=>S.getById(e,S.getContentId(e)),getAreaThumbEl:e=>S.getById(e,S.getAreaThumbId(e)),getChannelSliderThumbEl:(e,n)=>S.getById(e,S.getChannelSliderThumbId(e,n)),getChannelInputEl:(e,n)=>{const t=`input[data-channel="${n}"]`;return[...Xe(S.getContentEl(e),t),...Xe(S.getControlEl(e),t)]},getFormatSelectEl:e=>S.getById(e,S.getFormatSelectId(e)),getHiddenInputEl:e=>S.getById(e,S.getHiddenInputId(e)),getAreaEl:e=>S.getById(e,S.getAreaId(e)),getAreaValueFromPoint(e,n){const t=S.getAreaEl(e);if(!t)return;const{percent:o}=yn(n,t);return o},getControlEl:e=>S.getById(e,S.getControlId(e)),getTriggerEl:e=>S.getById(e,S.getTriggerId(e)),getPositionerEl:e=>S.getById(e,S.getPositionerId(e)),getChannelSliderTrackEl:(e,n)=>S.getById(e,S.getChannelSliderTrackId(e,n)),getChannelSliderValueFromPoint(e,n,t){const o=S.getChannelSliderTrackEl(e,t);if(!o)return;const{percent:r}=yn(n,o);return r},getChannelInputEls:e=>[...Xe(S.getContentEl(e),"input[data-channel]"),...Xe(S.getControlEl(e),"input[data-channel]")]});function Dl(e,n){switch(n){case"hue":return Ce(`hsl(${e.getChannelValue("hue")}, 100%, 50%)`);case"lightness":case"brightness":case"saturation":case"red":case"green":case"blue":return e.withChannelValue("alpha",1);case"alpha":return e;default:throw new Error("Unknown color channel: "+n)}}function Ft(e,n){if(n==null)return"";if(n==="hex")return e.toString("hex");if(n==="css")return e.toString("css");if(n in e)return e.getChannelValue(n).toString();const t=e.getFormat()==="hsla";switch(n){case"hue":return t?e.toFormat("hsla").getChannelValue("hue").toString():e.toFormat("hsba").getChannelValue("hue").toString();case"saturation":return t?e.toFormat("hsla").getChannelValue("saturation").toString():e.toFormat("hsba").getChannelValue("saturation").toString();case"lightness":return e.toFormat("hsla").getChannelValue("lightness").toString();case"brightness":return e.toFormat("hsba").getChannelValue("brightness").toString();case"red":case"green":case"blue":return e.toFormat("rgba").getChannelValue(n).toString();default:return e.getChannelValue(n).toString()}}function Ml(e,n){switch(n){case"hex":const t=Ce("#000000"),o=Ce("#FFFFFF");return{minValue:t.toHexInt(),maxValue:o.toHexInt(),pageSize:10,step:1};case"css":return;case"hue":case"saturation":case"lightness":return e.toFormat("hsla").getChannelRange(n);case"brightness":return e.toFormat("hsba").getChannelRange(n);case"red":case"green":case"blue":return e.toFormat("rgba").getChannelRange(n);default:return e.getChannelRange(n)}}function Bl(e,n){return e==="vertical"?"top":n==="ltr"?"right":"left"}var Ul=e=>{const{channel:n,value:t,dir:o}=e,r=Bl(e.orientation,o),{minValue:s,maxValue:l}=t.getChannelRange(n);switch(n){case"hue":return`linear-gradient(to ${r}, rgb(255, 0, 0) 0%, rgb(255, 255, 0) 17%, rgb(0, 255, 0) 33%, rgb(0, 255, 255) 50%, rgb(0, 0, 255) 67%, rgb(255, 0, 255) 83%, rgb(255, 0, 0) 100%)`;case"lightness":{let a=t.withChannelValue(n,s).toString("css"),c=t.withChannelValue(n,(l-s)/2).toString("css"),i=t.withChannelValue(n,l).toString("css");return`linear-gradient(to ${r}, ${a}, ${c}, ${i})`}case"saturation":case"brightness":case"red":case"green":case"blue":case"alpha":{let a=t.withChannelValue(n,s).toString("css"),c=t.withChannelValue(n,l).toString("css");return`linear-gradient(to ${r}, ${a}, ${c})`}default:throw new Error("Unknown color channel: "+n)}};function jl(e,n,t){const o=e.context.value,r=e.context.areaValue,s=e.context.valueAsString,l=e.context.isDisabled,a=e.context.isInteractive,c=e.hasTag("dragging"),i=e.hasTag("open"),d=e.hasTag("focused"),g=u=>{const h=r.getChannels();return{xChannel:u.xChannel??h[1],yChannel:u.yChannel??h[2]}},p=e.context.currentPlacement,f=ho({...e.context.positioning,placement:p});function v(u){const h=Pn(u.value).toFormat(e.context.format);return{value:h,valueAsString:h.toString("hex"),checked:h.isEqual(o),disabled:u.disabled||!a}}return{dragging:c,open:i,valueAsString:s,value:o,setOpen(u){u!==i&&n({type:u?"OPEN":"CLOSE"})},setValue(u){n({type:"VALUE.SET",value:Pn(u),src:"set-color"})},getChannelValue(u){return Ft(o,u)},getChannelValueText(u,h){return o.formatChannelValue(u,h)},setChannelValue(u,h){const b=o.withChannelValue(u,h);n({type:"VALUE.SET",value:b,src:"set-channel"})},format:e.context.format,setFormat(u){const h=o.toFormat(u);n({type:"VALUE.SET",value:h,src:"set-format"})},alpha:o.getChannelValue("alpha"),setAlpha(u){const h=o.withChannelValue("alpha",u);n({type:"VALUE.SET",value:h,src:"set-alpha"})},getRootProps(){return t.element({...B.root.attrs,dir:e.context.dir,id:S.getRootId(e.context),"data-disabled":k(l),"data-readonly":k(e.context.readOnly),style:{"--value":o.toString("css")}})},getLabelProps(){return t.element({...B.label.attrs,dir:e.context.dir,id:S.getLabelId(e.context),htmlFor:S.getHiddenInputId(e.context),"data-disabled":k(l),"data-readonly":k(e.context.readOnly),"data-focus":k(d),onClick(u){u.preventDefault();const h=Zn(S.getControlEl(e.context),"[data-channel=hex]");h==null||h.focus({preventScroll:!0})}})},getControlProps(){return t.element({...B.control.attrs,id:S.getControlId(e.context),dir:e.context.dir,"data-disabled":k(l),"data-readonly":k(e.context.readOnly),"data-state":i?"open":"closed","data-focus":k(d)})},getTriggerProps(){return t.button({...B.trigger.attrs,id:S.getTriggerId(e.context),dir:e.context.dir,disabled:l,"aria-label":`select color. current color is ${s}`,"aria-controls":S.getContentId(e.context),"aria-labelledby":S.getLabelId(e.context),"data-disabled":k(l),"data-readonly":k(e.context.readOnly),"data-placement":p,"aria-expanded":k(i),"data-state":i?"open":"closed","data-focus":k(d),type:"button",onClick(){a&&n({type:"TRIGGER.CLICK"})},onBlur(){a&&n({type:"TRIGGER.BLUR"})},style:{position:"relative"}})},getPositionerProps(){return t.element({...B.positioner.attrs,id:S.getPositionerId(e.context),dir:e.context.dir,style:f.floating})},getContentProps(){return t.element({...B.content.attrs,id:S.getContentId(e.context),dir:e.context.dir,"data-placement":p,"data-state":i?"open":"closed",hidden:!i})},getValueTextProps(){return t.element({...B.valueText.attrs,dir:e.context.dir,"data-disabled":k(l),"data-focus":k(d)})},getAreaProps(u={}){const{xChannel:h,yChannel:b}=g(u),{areaStyles:C}=kn(r,{xChannel:h,yChannel:b,dir:e.context.dir});return t.element({...B.area.attrs,id:S.getAreaId(e.context),role:"group",onPointerDown(T){if(!a||!At(T)||gn(T))return;const $=Nt(T);n({type:"AREA.POINTER_DOWN",point:$,channel:{xChannel:h,yChannel:b},id:"area"}),T.preventDefault()},style:{position:"relative",touchAction:"none",forcedColorAdjust:"none",...C}})},getAreaBackgroundProps(u={}){const{xChannel:h,yChannel:b}=g(u),{areaGradientStyles:C}=kn(r,{xChannel:h,yChannel:b,dir:e.context.dir});return t.element({...B.areaBackground.attrs,id:S.getAreaGradientId(e.context),style:{position:"relative",touchAction:"none",forcedColorAdjust:"none",...C}})},getAreaThumbProps(u={}){const{xChannel:h,yChannel:b}=g(u),C={xChannel:h,yChannel:b},T=r.getChannelValuePercent(h),$=1-r.getChannelValuePercent(b),j=r.getChannelValue(h),q=r.getChannelValue(b);return t.element({...B.areaThumb.attrs,id:S.getAreaThumbId(e.context),dir:e.context.dir,tabIndex:l?void 0:0,"data-disabled":k(l),role:"slider","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":j,"aria-label":`${h} and ${b}`,"aria-roledescription":"2d slider","aria-valuetext":`${h} ${j}, ${b} ${q}`,style:{position:"absolute",left:`${T*100}%`,top:`${$*100}%`,transform:"translate(-50%, -50%)",touchAction:"none",forcedColorAdjust:"none",background:r.withChannelValue("alpha",1).toString("css")},onFocus(){a&&n({type:"AREA.FOCUS",id:"area",channel:C})},onKeyDown(J){if(J.defaultPrevented||!a)return;const X=bn(J),P={ArrowUp(){n({type:"AREA.ARROW_UP",channel:C,step:X})},ArrowDown(){n({type:"AREA.ARROW_DOWN",channel:C,step:X})},ArrowLeft(){n({type:"AREA.ARROW_LEFT",channel:C,step:X})},ArrowRight(){n({type:"AREA.ARROW_RIGHT",channel:C,step:X})},PageUp(){n({type:"AREA.PAGE_UP",channel:C,step:X})},PageDown(){n({type:"AREA.PAGE_DOWN",channel:C,step:X})},Escape(A){A.stopPropagation()}}[ut(J,e.context)];P&&(P(J),J.preventDefault())}})},getTransparencyGridProps(u={}){const{size:h="12px"}=u;return t.element({...B.transparencyGrid.attrs,style:{"--size":h,width:"100%",height:"100%",position:"absolute",backgroundColor:"#fff",backgroundImage:"conic-gradient(#eeeeee 0 25%, transparent 0 50%, #eeeeee 0 75%, transparent 0)",backgroundSize:"var(--size) var(--size)",inset:"0px",zIndex:"auto",pointerEvents:"none"}})},getChannelSliderProps(u){const{orientation:h="horizontal",channel:b,format:C}=u;return t.element({...B.channelSlider.attrs,"data-channel":b,"data-orientation":h,role:"presentation",onPointerDown(T){if(!a||!At(T)||gn(T))return;const $=Nt(T);n({type:"CHANNEL_SLIDER.POINTER_DOWN",channel:b,format:C,point:$,id:b,orientation:h}),T.preventDefault()},style:{position:"relative",touchAction:"none"}})},getChannelSliderTrackProps(u){const{orientation:h="horizontal",channel:b,format:C}=u,T=C?o.toFormat(C):r;return t.element({...B.channelSliderTrack.attrs,id:S.getChannelSliderTrackId(e.context,b),role:"group","data-channel":b,"data-orientation":h,style:{position:"relative",forcedColorAdjust:"none",backgroundImage:Ul({orientation:h,channel:b,dir:e.context.dir,value:T})}})},getChannelSliderLabelProps(u){const{channel:h}=u;return t.element({...B.channelSliderLabel.attrs,"data-channel":h,onClick(b){var T;if(!a)return;b.preventDefault();const C=S.getChannelSliderThumbId(e.context,h);(T=S.getById(e.context,C))==null||T.focus({preventScroll:!0})},style:{userSelect:"none",WebkitUserSelect:"none"}})},getChannelSliderValueTextProps(u){return t.element({...B.channelSliderValueText.attrs,"data-channel":u.channel})},getChannelSliderThumbProps(u){const{orientation:h="horizontal",channel:b,format:C}=u,T=C?o.toFormat(C):r,$=T.getChannelRange(b),j=T.getChannelValue(b),q=(j-$.minValue)/($.maxValue-$.minValue),J=h==="horizontal"?{left:`${q*100}%`,top:"50%"}:{top:`${q*100}%`,left:"50%"};return t.element({...B.channelSliderThumb.attrs,id:S.getChannelSliderThumbId(e.context,b),role:"slider","aria-label":b,tabIndex:l?void 0:0,"data-channel":b,"data-disabled":k(l),"data-orientation":h,"aria-disabled":k(l),"aria-orientation":h,"aria-valuemax":$.maxValue,"aria-valuemin":$.minValue,"aria-valuenow":j,"aria-valuetext":`${b} ${j}`,style:{forcedColorAdjust:"none",position:"absolute",background:Dl(r,b).toString("css"),...J},onFocus(){a&&n({type:"CHANNEL_SLIDER.FOCUS",channel:b})},onKeyDown(X){if(X.defaultPrevented||!a)return;const N=bn(X)*$.step,A={ArrowUp(){n({type:"CHANNEL_SLIDER.ARROW_UP",channel:b,step:N})},ArrowDown(){n({type:"CHANNEL_SLIDER.ARROW_DOWN",channel:b,step:N})},ArrowLeft(){n({type:"CHANNEL_SLIDER.ARROW_LEFT",channel:b,step:N})},ArrowRight(){n({type:"CHANNEL_SLIDER.ARROW_RIGHT",channel:b,step:N})},PageUp(){n({type:"CHANNEL_SLIDER.PAGE_UP",channel:b})},PageDown(){n({type:"CHANNEL_SLIDER.PAGE_DOWN",channel:b})},Home(){n({type:"CHANNEL_SLIDER.HOME",channel:b})},End(){n({type:"CHANNEL_SLIDER.END",channel:b})},Escape(z){z.stopPropagation()}}[ut(X,e.context)];A&&(A(X),X.preventDefault())}})},getChannelInputProps(u){const{channel:h}=u,b=h==="hex"||h==="css",C=Ml(o,h);return t.input({...B.channelInput.attrs,dir:e.context.dir,type:b?"text":"number","data-channel":h,"aria-label":h,spellCheck:!1,autoComplete:"off",disabled:l,"data-disabled":k(l),readOnly:e.context.readOnly,defaultValue:Ft(o,h),min:C==null?void 0:C.minValue,max:C==null?void 0:C.maxValue,step:C==null?void 0:C.step,onBeforeInput(T){if(b||!a)return;T.currentTarget.value.match(/[^0-9.]/g)&&T.preventDefault()},onFocus(T){a&&(n({type:"CHANNEL_INPUT.FOCUS",channel:h}),T.target.select())},onBlur(T){if(!a)return;const $=b?T.currentTarget.value:T.currentTarget.valueAsNumber;n({type:"CHANNEL_INPUT.BLUR",channel:h,value:$,isTextField:b})},onKeyDown(T){if(!T.defaultPrevented&&a&&T.key==="Enter"){const $=b?T.currentTarget.value:T.currentTarget.valueAsNumber;n({type:"CHANNEL_INPUT.CHANGE",channel:h,value:$,isTextField:b}),T.preventDefault()}},style:{appearance:"none",WebkitAppearance:"none",MozAppearance:"textfield"}})},getHiddenInputProps(){return t.input({type:"text",disabled:l,name:e.context.name,readOnly:e.context.readOnly,required:e.context.required,id:S.getHiddenInputId(e.context),style:Qn,defaultValue:s})},getEyeDropperTriggerProps(){return t.button({...B.eyeDropperTrigger.attrs,type:"button",dir:e.context.dir,disabled:l,"data-disabled":k(l),"aria-label":"Pick a color from the screen",onClick(){a&&n("EYEDROPPER.CLICK")}})},getSwatchGroupProps(){return t.element({...B.swatchGroup.attrs,role:"group"})},getSwatchTriggerState:v,getSwatchTriggerProps(u){const h=v(u);return t.button({...B.swatchTrigger.attrs,disabled:h.disabled,dir:e.context.dir,type:"button","aria-label":`select ${h.valueAsString} as the color`,"data-state":h.checked?"checked":"unchecked","data-value":h.valueAsString,"data-disabled":k(h.disabled),onClick(){h.disabled||n({type:"SWATCH_TRIGGER.CLICK",value:h.value})},style:{position:"relative"}})},getSwatchIndicatorProps(u){const h=v(u);return t.element({...B.swatchIndicator.attrs,dir:e.context.dir,hidden:!h.checked})},getSwatchProps(u){const{respectAlpha:h=!0}=u,b=v(u);return t.element({...B.swatch.attrs,dir:e.context.dir,"data-state":b.checked?"checked":"unchecked","data-value":b.valueAsString,style:{position:"relative",background:b.value.toString(h?"css":"hex")}})},getFormatTriggerProps(){return t.button({...B.formatTrigger.attrs,dir:e.context.dir,type:"button","aria-label":`change color format to ${An(e.context.format)}`,onClick(u){if(u.currentTarget.disabled)return;const h=An(e.context.format);n({type:"FORMAT.SET",format:h,src:"format-trigger"})}})},getFormatSelectProps(){return t.select({...B.formatSelect.attrs,"aria-label":"change color format",dir:e.context.dir,defaultValue:e.context.format,disabled:l,onChange(u){const h=Gl(u.currentTarget.value);n({type:"FORMAT.SET",format:h,src:"format-select"})}})}}}var st=["hsba","hsla","rgba"],Hl=new RegExp(`^(${st.join("|")})$`);function An(e){const n=st.indexOf(e);return st[n+1]??st[0]}function Gl(e){if(Hl.test(e))return e;throw new Error(`Unsupported color format: ${e}`)}var Rt=e=>Ce(e),{and:Wl}=jt;function zl(e){const n=Ke(e);return Ht({id:"color-picker",initial:n.open?"open":"idle",context:{dir:"ltr",value:Rt("#000000"),format:"rgba",disabled:!1,closeOnSelect:!1,...n,activeId:null,activeChannel:null,activeOrientation:null,fieldsetDisabled:!1,restoreFocus:!0,positioning:{...n.positioning,placement:"bottom"}},computed:{isRtl:t=>t.dir==="rtl",isDisabled:t=>!!t.disabled||t.fieldsetDisabled,isInteractive:t=>!(t.isDisabled||t.readOnly),valueAsString:t=>t.value.toString(t.format),areaValue:t=>{const o=t.format.startsWith("hsl")?"hsla":"hsba";return t.value.toFormat(o)}},activities:["trackFormControl"],watch:{value:["syncInputElements"],format:["syncFormatSelectElement"],open:["toggleVisibility"]},on:{"VALUE.SET":{actions:["setValue"]},"FORMAT.SET":{actions:["setFormat"]},"CHANNEL_INPUT.CHANGE":{actions:["setChannelColorFromInput"]},"EYEDROPPER.CLICK":{actions:["openEyeDropper"]}},states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":{target:"open",actions:["setInitialFocus"]},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],"CHANNEL_INPUT.FOCUS":{target:"focused",actions:["setActiveChannel"]}}},focused:{tags:["closed","focused"],on:{"CONTROLLED.OPEN":{target:"open",actions:["setInitialFocus"]},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],"CHANNEL_INPUT.FOCUS":{actions:["setActiveChannel"]},"CHANNEL_INPUT.BLUR":{target:"idle",actions:["setChannelColorFromInput"]},"TRIGGER.BLUR":{target:"idle"}}},open:{tags:["open"],activities:["trackPositioning","trackDismissableElement"],on:{"CONTROLLED.CLOSE":[{guard:"shouldRestoreFocus",target:"focused",actions:["setReturnFocus"]},{target:"idle"}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}],"AREA.POINTER_DOWN":{target:"open:dragging",actions:["setActiveChannel","setAreaColorFromPoint","focusAreaThumb"]},"AREA.FOCUS":{actions:["setActiveChannel"]},"CHANNEL_SLIDER.POINTER_DOWN":{target:"open:dragging",actions:["setActiveChannel","setChannelColorFromPoint","focusChannelThumb"]},"CHANNEL_SLIDER.FOCUS":{actions:["setActiveChannel"]},"AREA.ARROW_LEFT":{actions:["decrementAreaXChannel"]},"AREA.ARROW_RIGHT":{actions:["incrementAreaXChannel"]},"AREA.ARROW_UP":{actions:["incrementAreaYChannel"]},"AREA.ARROW_DOWN":{actions:["decrementAreaYChannel"]},"AREA.PAGE_UP":{actions:["incrementAreaXChannel"]},"AREA.PAGE_DOWN":{actions:["decrementAreaXChannel"]},"CHANNEL_SLIDER.ARROW_LEFT":{actions:["decrementChannel"]},"CHANNEL_SLIDER.ARROW_RIGHT":{actions:["incrementChannel"]},"CHANNEL_SLIDER.ARROW_UP":{actions:["incrementChannel"]},"CHANNEL_SLIDER.ARROW_DOWN":{actions:["decrementChannel"]},"CHANNEL_SLIDER.PAGE_UP":{actions:["incrementChannel"]},"CHANNEL_SLIDER.PAGE_DOWN":{actions:["decrementChannel"]},"CHANNEL_SLIDER.HOME":{actions:["setChannelToMin"]},"CHANNEL_SLIDER.END":{actions:["setChannelToMax"]},"CHANNEL_INPUT.BLUR":{actions:["setChannelColorFromInput"]},INTERACT_OUTSIDE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{guard:"shouldRestoreFocus",target:"focused",actions:["invokeOnClose","setReturnFocus"]},{target:"idle",actions:["invokeOnClose"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}],"SWATCH_TRIGGER.CLICK":[{guard:Wl("isOpenControlled","closeOnSelect"),actions:["setValue","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["setValue","invokeOnClose","setReturnFocus"]},{actions:["setValue"]}]}},"open:dragging":{tags:["open"],exit:["clearActiveChannel"],activities:["trackPointerMove","disableTextSelection","trackPositioning","trackDismissableElement"],on:{"CONTROLLED.CLOSE":[{guard:"shouldRestoreFocus",target:"focused",actions:["setReturnFocus"]},{target:"idle"}],"AREA.POINTER_MOVE":{actions:["setAreaColorFromPoint","focusAreaThumb"]},"AREA.POINTER_UP":{target:"open",actions:["invokeOnChangeEnd"]},"CHANNEL_SLIDER.POINTER_MOVE":{actions:["setChannelColorFromPoint","focusChannelThumb"]},"CHANNEL_SLIDER.POINTER_UP":{target:"open",actions:["invokeOnChangeEnd"]},INTERACT_OUTSIDE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{guard:"shouldRestoreFocus",target:"focused",actions:["invokeOnClose","setReturnFocus"]},{target:"idle",actions:["invokeOnClose"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}]}}}},{guards:{closeOnSelect:t=>!!t.closeOnSelect,isOpenControlled:t=>!!t["open.controlled"],shouldRestoreFocus:t=>!!t.restoreFocus},activities:{trackPositioning(t){t.currentPlacement=t.positioning.placement;const o=S.getTriggerEl(t);return Lt(o,()=>S.getPositionerEl(t),{...t.positioning,defer:!0,onComplete(s){t.currentPlacement=s.placement}})},trackDismissableElement(t,o,{send:r}){return go(()=>S.getContentEl(t),{exclude:S.getTriggerEl(t),defer:!0,onInteractOutside(l){var a;(a=t.onInteractOutside)==null||a.call(t,l),!l.defaultPrevented&&(t.restoreFocus=!(l.detail.focusable||l.detail.contextmenu))},onPointerDownOutside:t.onPointerDownOutside,onFocusOutside:t.onFocusOutside,onDismiss(){r({type:"INTERACT_OUTSIDE"})}})},trackFormControl(t,o,{send:r,initialContext:s}){const l=S.getHiddenInputEl(t);return Vl(l,{onFieldsetDisabledChange(a){t.fieldsetDisabled=a},onFormReset(){r({type:"VALUE.SET",value:s.value,src:"form.reset"})}})},trackPointerMove(t,o,{send:r}){return wi(S.getDoc(t),{onPointerMove({point:s}){const l=t.activeId==="area"?"AREA.POINTER_MOVE":"CHANNEL_SLIDER.POINTER_MOVE";r({type:l,point:s,format:o.format})},onPointerUp(){const s=t.activeId==="area"?"AREA.POINTER_UP":"CHANNEL_SLIDER.POINTER_UP";r({type:s})}})},disableTextSelection(t){return lo({doc:S.getDoc(t),target:S.getContentEl(t)})}},actions:{openEyeDropper(t){if(!("EyeDropper"in S.getWin(t)))return;const r=S.getWin(t);new r.EyeDropper().open().then(({sRGBHex:l})=>{var i;const a=t.value.getFormat(),c=Ce(l).toFormat(a);Q.value(t,c),(i=t.onValueChangeEnd)==null||i.call(t,{value:t.value,valueAsString:t.valueAsString})}).catch(()=>{})},setActiveChannel(t,o){t.activeId=o.id,o.channel&&(t.activeChannel=o.channel),o.orientation&&(t.activeOrientation=o.orientation)},clearActiveChannel(t){t.activeChannel=null,t.activeId=null,t.activeOrientation=null},setAreaColorFromPoint(t,o){const r=o.format?t.value.toFormat(o.format):t.areaValue,{xChannel:s,yChannel:l}=o.channel||t.activeChannel,a=S.getAreaValueFromPoint(t,o.point);if(!a)return;const c=r.getChannelPercentValue(s,a.x),i=r.getChannelPercentValue(l,1-a.y),d=r.withChannelValue(s,c).withChannelValue(l,i);Q.value(t,d)},setChannelColorFromPoint(t,o){const r=o.channel||t.activeId,s=o.format?t.value.toFormat(o.format):t.areaValue,l=S.getChannelSliderValueFromPoint(t,o.point,r);if(!l)return;const c=(t.activeOrientation||"horizontal")==="horizontal"?l.x:l.y,i=s.getChannelPercentValue(r,c),d=s.withChannelValue(r,i);Q.value(t,d)},setValue(t,o){Q.value(t,o.value)},setFormat(t,o){Q.format(t,o.format)},syncInputElements(t){wt.inputs(t)},invokeOnChangeEnd(t){xt.changeEnd(t)},setChannelColorFromInput(t,o){const{channel:r,isTextField:s,value:l}=o,a=t.value.getChannelValue("alpha");let c;if(r==="alpha"){let i=parseFloat(l);i=Number.isNaN(i)?a:i,c=t.value.withChannelValue("alpha",i)}else if(s)c=so(()=>Rt(l).withChannelValue("alpha",a),()=>t.value);else{const i=t.value.toFormat(t.format),d=Number.isNaN(l)?i.getChannelValue(r):l;c=i.withChannelValue(r,d)}wt.inputs(t,c),Q.value(t,c)},incrementChannel(t,o){const r=t.value.incrementChannel(o.channel,o.step);Q.value(t,r)},decrementChannel(t,o){const r=t.value.decrementChannel(o.channel,o.step);Q.value(t,r)},incrementAreaXChannel(t,o){const{xChannel:r}=o.channel,s=t.areaValue.incrementChannel(r,o.step);Q.value(t,s)},decrementAreaXChannel(t,o){const{xChannel:r}=o.channel,s=t.areaValue.decrementChannel(r,o.step);Q.value(t,s)},incrementAreaYChannel(t,o){const{yChannel:r}=o.channel,s=t.areaValue.incrementChannel(r,o.step);Q.value(t,s)},decrementAreaYChannel(t,o){const{yChannel:r}=o.channel,s=t.areaValue.decrementChannel(r,o.step);Q.value(t,s)},setChannelToMax(t,o){const r=t.value.getChannelRange(o.channel),s=t.value.withChannelValue(o.channel,r.maxValue);Q.value(t,s)},setChannelToMin(t,o){const r=t.value.getChannelRange(o.channel),s=t.value.withChannelValue(o.channel,r.minValue);Q.value(t,s)},focusAreaThumb(t){x(()=>{var o;(o=S.getAreaThumbEl(t))==null||o.focus({preventScroll:!0})})},focusChannelThumb(t,o){x(()=>{var r;(r=S.getChannelSliderThumbEl(t,o.channel))==null||r.focus({preventScroll:!0})})},setInitialFocus(t){x(()=>{const o=As({root:S.getContentEl(t),getInitialEl:t.initialFocusEl});o==null||o.focus({preventScroll:!0})})},setReturnFocus(t){x(()=>{var o;(o=S.getTriggerEl(t))==null||o.focus({preventScroll:!0})})},syncFormatSelectElement(t){wt.formatSelect(t)},invokeOnOpen(t){var o;(o=t.onOpenChange)==null||o.call(t,{open:!0})},invokeOnClose(t){var o;(o=t.onOpenChange)==null||o.call(t,{open:!1})},toggleVisibility(t,o,{send:r}){r({type:t.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:o})}},compareFns:{value:(t,o)=>t.isEqual(o)}})}var wt={inputs(e,n){const t=S.getChannelInputEls(e);x(()=>{t.forEach(o=>{const r=o.dataset.channel;S.setValue(o,Ft(n||e.value,r))})})},formatSelect(e){const n=S.getFormatSelectEl(e);x(()=>{S.setValue(n,e.format)})}},xt={changeEnd(e){var t;const n=e.value.toFormat(e.format);(t=e.onValueChangeEnd)==null||t.call(e,{value:n,valueAsString:e.valueAsString})},change(e){var t;const n=e.value.toFormat(e.format);(t=e.onValueChange)==null||t.call(e,{value:n,valueAsString:e.valueAsString}),Nl(S.getHiddenInputEl(e),{value:e.valueAsString})},formatChange(e){var n;(n=e.onFormatChange)==null||n.call(e,{format:e.format})}},Q={value(e,n){!n||e.value.isEqual(n)||(e.value=n,xt.change(e))},format(e,n){e.format!==n&&(e.format=n,xt.formatChange(e))}};const Kl={class:"flex justify-between mb-4"},ql=["onClick"],Jl={"i-line-md:confirm":""},Xl=y("span",{absolute:"","size-3":"",border:"2 white rounded-full"},null,-1),Yl=[Xl],Zl={hstack:"","my-3":"","px-3":"","gap-x-3":""},Ql=y("span",{"i-bx:bxs-eyedropper":"","text-lg":""},null,-1),ec=y("span",{absolute:"","size-3.5":"",border:"2 white rounded-full"},null,-1),tc=[ec],nc=L({__name:"ThemeColor",setup(e){const{styles:n,setStyle:t}=me(),{COLOR:o}=ht(),[r,s]=zt(zl({id:"theme-color",value:Rt(n.themeColor),positioning:{gutter:14},onValueChange:c=>t("themeColor",a(c.value))})),l=K(()=>jl(r.value,s,Wt)),a=c=>"#"+c.toHexInt().toString(16).toUpperCase().padStart(6,"0");return(c,i)=>{const d=we,g=be;return O(),F(g,{text:c.$t("toolbar.theme_color"),icon:"i-material-symbols:palette-outline"},{default:_(()=>[y("div",Kl,[(O(!0),V(he,null,Ge(m(o).PRESET,(p,f)=>(O(),V("button",{key:`${f}-${p}`,class:"size-6 flex-center rounded text-white ring-when-focus",style:Cr({backgroundColor:p}),onClick:v=>m(l).setValue(p)},[xn(y("span",Jl,null,512),[[Er,a(m(l).value)===p.toUpperCase()]])],12,ql))),128))]),y("div",M(m(l).getRootProps(),{relative:"","z-21":""}),[y("div",M(m(l).getControlProps(),{class:["w-full hstack h-9 gap-x-2 px-2 py-1 rounded-md border-1.5 data-[focus]:border-primary",m(l).open&&"border-primary"]}),[y("button",M(m(l).getTriggerProps(),{class:"size-4 rounded overflow-hidden ring-when-focus"}),[y("div",M({class:"size-full"},m(l).getSwatchProps({value:m(l).value})),null,16)],16),y("input",M(m(l).getChannelInputProps({channel:"hex"}),{class:"bg-transparent outline-none"}),null,16)],16),y("div",M(m(l).getPositionerProps(),{"w-full":"","ml-2":""}),[y("div",M(m(l).getContentProps(),{class:"bg-background overflow-hidden shadow-md",border:"~ rounded-md"}),[y("div",pe(ge(m(l).getAreaProps())),[y("div",M(m(l).getAreaBackgroundProps(),{class:"w-full h-30"}),null,16),y("div",M(m(l).getAreaThumbProps(),{class:"size-4 rounded-full border-2 border-black ring-when-focus"}),Yl,16)],16),y("div",Zl,[E(d,M(m(l).getEyeDropperTriggerProps(),{variant:"ghost",size:"icon",class:"size-7 rounded"}),{default:_(()=>[Ql]),_:1},16),y("div",M(m(l).getChannelSliderProps({channel:"hue"}),{"flex-1":""}),[y("div",M(m(l).getChannelSliderTrackProps({channel:"hue"}),{class:"w-full h-2.5 rounded-full"}),null,16),y("div",M(m(l).getChannelSliderThumbProps({channel:"hue"}),{class:"size-4.5 -mt-2 -ml-2 ring-when-focus",border:"2 black rounded-full"}),tc,16)],16)])],16)],16)],16)]),_:1},8,["text"])}}}),oc={class:"w-full hstack gap-x-2 mb-2"},rc={"w-13":""},sc={class:"hstack gap-x-2 w-full"},ac={"w-13":""},ic=L({__name:"FontFamily",setup(e){const{styles:n,setStyle:t}=me(),{FONT:o}=ht(),r=o.LOCAL.EN.map(i=>{var g;const d=((g=o.LOCAL.EN.find(p=>p.name===i.name))==null?void 0:g.fontFamily)||i.name;return{label:i.name,value:d,onSelect:()=>t("fontEN",{name:i.name,fontFamily:d})}}),s=o.LOCAL.CJK.map(i=>{var g;const d=((g=o.LOCAL.CJK.find(p=>p.name===i.name))==null?void 0:g.fontFamily)||i.name;return{label:i.name,value:d,onSelect:()=>t("fontCJK",{name:i.name,fontFamily:d})}}),l=W(!1),a=W([]),c=W([]);return pt(async()=>{const{en:i,cjk:d}=await lr.get();a.value=i.map(g=>({label:g.family,value:g.family,onSelect:()=>t("fontEN",{name:g.family})})),c.value=d.map(g=>{const p=g.family,f=o.GF.CJK_FAMILY_TO_NAME[p]||p;return{label:f,value:p,onSelect:()=>t("fontCJK",{name:f,fontFamily:p})}}).sort((g,p)=>Number(o.GF.CJK_FIRST.includes(p.label))-Number(o.GF.CJK_FIRST.includes(g.label))),l.value=!0}),(i,d)=>{const g=fo,p=Ln,f=be;return O(),F(f,{text:i.$t("toolbar.font_family.title"),icon:"i-material-symbols:font-download-outline"},{default:_(()=>[y("div",oc,[m(l)?(O(),F(g,{key:0,id:"font-cjk",class:"flex-1",items:m(s).concat(m(c)),"default-value":m(n).fontCJK.fontFamily||m(n).fontCJK.name},null,8,["items","default-value"])):(O(),F(p,{key:1,class:"flex-1 h-9"})),y("span",rc,R(i.$t("toolbar.font_family.cjk")),1)]),y("div",sc,[m(l)?(O(),F(g,{key:0,id:"font-en",class:"flex-1",items:m(r).concat(m(a)),"default-value":m(n).fontEN.fontFamily||m(n).fontEN.name},null,8,["items","default-value"])):(O(),F(p,{key:1,class:"flex-1 h-9"})),y("span",ac,R(i.$t("toolbar.font_family.en")),1)])]),_:1},8,["text"])}}}),lc={class:"hidden group-hover:block group-focus-visible:block p-1 min-w-6 rounded bg-primary absolute -top-2 left-1/2 -translate-x-2/4 -translate-y-full after:absolute after:content-[''] after:size-0 after:border-5 after:border-transparent after:border-t-primary after:top-full after:inset-x-0 after:mx-auto",text:"white xs center"},cc={flex:"","justify-between":"","text-muted-foreground":""},bt=L({__name:"Slider",props:{name:{},defaultValue:{},modelValue:{},disabled:{type:Boolean},orientation:{},dir:{},inverted:{type:Boolean},min:{},max:{},step:{},minStepsBetweenThumbs:{},asChild:{type:Boolean},as:{},unit:{}},emits:["update:modelValue","valueCommit"],setup(e,{emit:n}){const t=e,r=We(t,n),s=K(()=>t.min||0),l=K(()=>t.max||100),a=K(()=>(s.value+l.value)/2),c=K(()=>t.unit||"");return(i,d)=>{const g=qo,p=Jo,f=Xo,v=Yo;return O(),V(he,null,[E(v,M({class:"relative flex w-full touch-none select-none items-center py-2"},m(r)),{default:_(()=>[E(p,{class:"relative h-1 w-full grow overflow-hidden rounded-full bg-secondary"},{default:_(()=>[E(g,{class:"absolute h-full bg-primary"})]),_:1}),(O(!0),V(he,null,Ge(i.modelValue,(u,h)=>(O(),F(f,{key:h,class:"group block size-4 rounded-full border-2.5 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"},{default:_(()=>{var b;return[y("span",lc,R((b=i.modelValue)==null?void 0:b.at(0)),1)]}),_:2},1024))),128))]),_:1},16),y("div",cc,[y("span",null,R(m(s))+R(m(c)),1),y("span",null,R(m(a))+R(m(c)),1),y("span",null,R(m(l))+R(m(c)),1)])],64)}}}),uc=L({__name:"FontSize",setup(e){const{styles:n,setStyle:t}=me(),o=W([n.fontSize]);return(r,s)=>{const l=bt,a=be;return O(),F(a,{text:r.$t("toolbar.font_size"),icon:"i-ri:font-size-2"},{default:_(()=>[E(l,{unit:"px","model-value":m(o),min:12,max:20,"onUpdate:modelValue":s[0]||(s[0]=c=>{o.value=c,m(t)("fontSize",c.at(0))})},null,8,["model-value"])]),_:1},8,["text"])}}}),dc={hstack:"","text-muted-foreground":"","gap-x-1":"","justify-end":""},hc=y("span",{"i-icon-park-outline:margin-one":""},null,-1),pc={"mt-4":"",hstack:"","text-muted-foreground":"","gap-x-1":"","justify-end":""},gc=y("span",{"i-icon-park-outline:margin":""},null,-1),fc=L({__name:"Margins",setup(e){const{styles:n,setStyle:t}=me(),o=W([n.marginV]),r=W([n.marginH]);return(s,l)=>{const a=bt,c=be;return O(),F(c,{text:s.$t("toolbar.margins.title"),icon:"i-radix-icons:margin"},{default:_(()=>[y("div",dc,[hc,U(" "+R(s.$t("toolbar.margins.vertical")),1)]),E(a,{unit:"px","model-value":m(o),"onUpdate:modelValue":l[0]||(l[0]=i=>{o.value=i,m(t)("marginV",i.at(0))})},null,8,["model-value"]),y("div",pc,[gc,U(" "+R(s.$t("toolbar.margins.horizontal")),1)]),E(a,{unit:"px","model-value":m(r),"onUpdate:modelValue":l[1]||(l[1]=i=>{r.value=i,m(t)("marginH",i.at(0))})},null,8,["model-value"])]),_:1},8,["text"])}}}),mc=L({__name:"ParagraphSpace",setup(e){const{styles:n,setStyle:t}=me(),o=W([n.paragraphSpace]);return(r,s)=>{const l=bt,a=be;return O(),F(a,{text:r.$t("toolbar.paragraph_spacing"),icon:"i-icon-park-outline:paragraph-break-two"},{default:_(()=>[E(l,{unit:"px","model-value":m(o),max:50,"onUpdate:modelValue":s[0]||(s[0]=c=>{o.value=c,m(t)("paragraphSpace",c.at(0))})},null,8,["model-value"])]),_:1},8,["text"])}}}),bc=L({__name:"LineHeight",setup(e){const{styles:n,setStyle:t}=me(),o=W([n.lineHeight]);return(r,s)=>{const l=bt,a=be;return O(),F(a,{text:r.$t("toolbar.line_height"),icon:"i-ic:round-format-line-spacing"},{default:_(()=>[E(l,{"model-value":m(o),min:1,max:2,step:.05,"onUpdate:modelValue":s[0]||(s[0]=c=>{o.value=c,m(t)("lineHeight",c.at(0))})},null,8,["model-value"])]),_:1},8,["text"])}}}),vc="ABI",yc="AMD",Cc="API",Ec="AST",Sc="BOM",Ic="BSD",_c="CDN",wc="CJS",Oc="CLI",kc="CNCF",Tc="CORS",Pc="CPU",Ac="CRUD",Nc="CSRF",Lc="CSS",Fc="CSV",Rc="DB2",xc="DNS",Vc="DOM",$c="DOS",Dc="ES6",Mc="ESM",Bc="FBI",Uc="FTP",jc="FTPS",Hc="GCC",Gc="GCP",Wc="GLSL",zc="GORM",Kc="GPL",qc="GPS",Jc="GPU",Xc="GRE",Yc="GUI",Zc="HDMI",Qc="HMR",eu="HTML",tu="HTTP",nu="HTTPS",ou="IIFE",ru="IPC",su="IPFS",au="IPMI",iu="JDBC",lu="JDK",cu="JIT",uu="JPEG",du="JPG",hu="JRE",pu="JSF",gu="JSON",fu="JSONP",mu="JSP",bu="JWT",vu="KCP",yu="KDE",Cu="KPI",Eu="LFU",Su="LLVM",Iu="LRU",_u="LTS",wu="MDN",Ou="MDX",ku="MVC",Tu="MVP",Pu="MVVM",Au="NFT",Nu="ODBC",Lu="ONT",Fu="ORM",Ru="OSS",xu="PDF",Vu="PDO",$u="POSIX",Du="PWA",Mu="QEMU",Bu="QGIS",Uu="QUIC",ju="RFC",Hu="ROM",Gu="RPC",Wu="RSS",zu="RSS3",Ku="SDK",qu="SEO",Ju="SIP",Xu="SMTP",Yu="SQL",Zu="SRE",Qu="SSG",ed="SSH",td="SSO",nd="SSR",od="STP",rd="SVG",sd="SVN",ad="TCP",id="TLS",ld="TOML",cd="TSC",ud="UDP",dd="UMD",hd="URI",pd="URL",gd="USB",fd="VLAN",md="VNC",bd="VPN",vd="VPS",yd="WGSL",Cd="WLAN",Ed="WSA",Sd="WSL",Id="XHTML",_d="XML",wd="XSS",Od="YAML",kd={abi:vc,amd:yc,api:Cc,ast:Ec,bom:Sc,bsd:Ic,cdn:_c,cjs:wc,cli:Oc,cncf:kc,cors:Tc,cpu:Pc,crud:Ac,csrf:Nc,css:Lc,csv:Fc,db2:Rc,dns:xc,dom:Vc,dos:$c,es6:Dc,esm:Mc,fbi:Bc,ftp:Uc,ftps:jc,gcc:Hc,gcp:Gc,glsl:Wc,gorm:zc,gpl:Kc,gps:qc,gpu:Jc,gre:Xc,gui:Yc,hdmi:Zc,hmr:Qc,html:eu,http:tu,https:nu,iife:ou,ipc:ru,ipfs:su,ipmi:au,jdbc:iu,jdk:lu,jit:cu,jpeg:uu,jpg:du,jre:hu,jsf:pu,json:gu,jsonp:fu,jsp:mu,jwt:bu,kcp:vu,kde:yu,kpi:Cu,lfu:Eu,llvm:Su,lru:Iu,lts:_u,mdn:wu,mdx:Ou,mvc:ku,mvp:Tu,mvvm:Pu,nft:Au,odbc:Nu,ont:Lu,orm:Fu,oss:Ru,pdf:xu,pdo:Vu,posix:$u,pwa:Du,qemu:Mu,qgis:Bu,quic:Uu,rfc:ju,rom:Hu,rpc:Gu,rss:Wu,rss3:zu,sdk:Ku,seo:qu,sip:Ju,smtp:Xu,sql:Yu,sre:Zu,ssg:Qu,ssh:ed,sso:td,ssr:nd,stp:od,svg:rd,svn:sd,tcp:ad,tls:id,toml:ld,tsc:cd,udp:ud,umd:dd,uri:hd,url:pd,usb:gd,vlan:fd,vnc:md,vpn:bd,vps:vd,wgsl:yd,wlan:Cd,wsa:Ed,wsl:Sd,xhtml:Id,xml:_d,xss:wd,yaml:Od},Td="Airbnb",Pd="AlphaGo",Ad="Bitbucket",Nd="ByteDance",Ld="CircleCI",Fd="freeCodeCamp",Rd="Gitea",xd="Gitee",Vd="GitHub",$d="GitLab",Dd="GitOps",Md="Gitpod",Bd="HP",Ud="IBM",jd="jsDelivr",Hd="KFC",Gd="LeetCode",Wd="LinkedIn",zd="McDonald",Kd="NVIDIA",qd="PagerDuty",Jd="Product Hunt",Xd="StackBlitz",Yd="STACKIT",Zd="Stack Overflow",Qd="V2EX",eh="YouTube",th={airbnb:Td,alphago:Pd,bitbucket:Ad,bytedance:Nd,circleci:Ld,freecodecamp:Fd,gitea:Rd,gitee:xd,github:Vd,gitlab:$d,gitops:Dd,gitpod:Md,hp:Bd,ibm:Ud,jsdelivr:jd,kfc:Hd,leetcode:Gd,linkedin:Wd,mcdonald:zd,nvidia:Kd,pagerduty:qd,producthunt:Jd,stackblitz:Xd,stackit:Yd,stackoverflow:Zd,v2ex:Qd,youtube:eh},nh="AIaaS",oh="BaaS",rh="CaaS",sh="DaaS",ah="DDoS",ih="DevOps",lh="DevTools",ch="eSIM",uh="FaaS",dh="IaaS",hh="IoC",ph="IPsec",gh="mPaaS",fh="PaaS",mh="SaaS",bh="Wi-Fi",vh="XaaS",yh={aiaas:nh,baas:oh,caas:rh,daas:sh,ddos:ah,devops:ih,devtools:lh,esim:ch,faas:uh,iaas:dh,ioc:hh,ipsec:ph,mpaas:gh,paas:fh,saas:mh,wifi:bh,xaas:vh},Ch="AirDrop",Eh="AirPods",Sh="AirTag",Ih="HomeKit",_h="HomePod",wh="iMac",Oh="iPad",kh="iPhone",Th="iPod",Ph="MacBook",Ah={airdrop:Ch,airpods:Eh,airtag:Sh,homekit:Ih,homepod:_h,imac:wh,ipad:Oh,iphone:kh,ipod:Th,macbook:Ph,"macbook air":"MacBook Air","macbook pro":"MacBook Pro"},Nh="ActionScript",Lh="AdBlock",Fh="AJAX",Rh="Alipay",xh="AMap",Vh="AngularJS",$h="AntD",Dh="AntDesign",Mh="AntDesignVue",Bh="AntV",Uh="Apifox",jh="AppleScript",Hh="AppleTalk",Gh="ArangoDB",Wh="ArcGIS",zh="ArcMap",Kh="ArcObjects",qh="Beego",Jh="BitTorrent",Xh="BusyBox",Yh="CentOS",Zh="CesiumJS",Qh="ChatGPT",ep="CityGML",tp="CityJSON",np="CKEditor",op="ClashX",rp="ClickHouse",sp="CMake",ap="CockroachDB",ip="CocoaPods",lp="CodePen",cp="CodeSandbox",up="CoffeeScript",dp="CommonJS",hp="CompositionAPI",pp="CoreDNS",gp="Dapr",fp="Datadog",mp="DataGrip",bp="dBase",vp="DefinitelyTyped",yp="DenoDeploy",Cp="DigitalOcean",Ep="DingTalk",Sp="DirectX",Ip="Django",_p="DuckDuckGo",wp="DynamoDB",Op="ECharts",kp="ECMAScript",Tp="EdgeDB",Pp="Egg.js",Ap="Elasticsearch",Np="ElementUI",Lp="esbuild",Fp="ESLint",Rp="ESXi",xp="etcd",Vp="FaceTime",$p="FastAPI",Dp="FFmpeg",Mp="FileZilla",Bp="Firefox",Up="FreeMarker",jp="GDNative",Hp="GDScript",Gp="GeForce",Wp="GeoJSON",zp="GeoPackage",Kp="GeoPandas",qp="GeoServer",Jp="GitBook",Xp="GitKraken",Yp="glTF",Zp="GNOME",Qp="GNU",eg="GnuPG",tg="GoLand",ng="GraphQL",og="GreenSock",rg="gRPC",sg="Hacker News",ag="HacPai",ig="HBase",lg="HBuilderX",cg="iBook",ug="iCloud",dg="iDRAC",hg="iLO",pg="iMessage",gg="iMovie",fg="imToken",mg="InfluxDB",bg="IntelliJ",vg="iOS",yg="iPadOS",Cg="iPhoto",Eg="iSCSI",Sg="iTerm",Ig="iTunes",_g="iWork",wg="JavaScript",Og="JetBrains",kg="jQuery",Tg="JSDoc",Pg="JupyterLab",Ag="KaTeX",Ng="Kubernetes",Lg="LaTeX",Fg="Less",Rg="LibreOffice",xg="LineageOS",Vg="macOS",$g="MariaDB",Dg="Markdown",Mg="MarkdownLint",Bg="MATHIEU",Ug="MathJax",jg="MathML",Hg="MathType",Gg="MATLAB",Wg="MediaWiki",zg="Memcached",Kg="MessagePack",qg="MetaMask",Jg="MkDocs",Xg="MLaaS",Yg="MLOps",Zg="MobX",Qg="MongoDB",ef="Mongoose",tf="MyBatis",nf="MySQL",of="NaiveUI",rf="Neo4j",sf="NestJS",af="NetBeans",lf="NetBIOS",cf="Next.js",uf="NixOS",df="NocoDB",hf="NoSQL",pf="npm",gf="NumPy",ff="NuxtJS",mf="OAuth",bf="OBS",vf="OCaml",yf="OneDrive",Cf="OneNote",Ef="OpenAI",Sf="OpenAPI",If="OpenCV",_f="OpenFaaS",wf="OpenFlow",Of="openGauss",kf="OpenGL",Tf="OpenJDK",Pf="OpenLayers",Af="OpenPGP",Nf="OpenSea",Lf="OpenSSL",Ff="OpenStack",Rf="OpenStreetMap",xf="openSUSE",Vf="OpenVINO",$f="OpenWrt",Df="OPNsense",Mf="PAgP",Bf="PayPal",Uf="Photoshop",jf="PHP",Hf="PhpStorm",Gf="Pi-hole",Wf="PlanetScale",zf="PostCSS",Kf="PostGIS",qf="PostgreSQL",Jf="PotPlayer",Xf="PowerPoint",Yf="PowerShell",Zf="PrimeVue",Qf="Protobuf",em="PyCharm",tm="PyTorch",nm="QtScript",om="RAII",rm="RedHat",sm="RediSearch",am="RedisJSON",im="ReScript",lm="RESTful",cm="RethinkDB",um="RSSHub",dm="Rust",hm="RxDB",pm="RxJS",gm="Sass",fm="SCSS",mm="SegmentFault",bm="SolarWinds",vm="SpatialLite",ym="SpringBoot",Cm="SpringCloud",Em="SpringMVC",Sm="SQLite",Im="SQLServer",_m="Storybook",wm="Stylus",Om="SurrealDB",km="SvelteKit",Tm="TailwindCSS",Pm="TeamViewer",Am="TensorFlow",Nm="TestFlight",Lm="TeX",Fm="ThreeJS",Rm="TianoCore",xm="TiDB",Vm="TiFlash",$m="TikTok",Dm="TiKV",Mm="tRPC",Bm="TSDoc",Um="TSdx",jm="Turbopack",Hm="Turborepo",Gm="TypeORM",Wm="TypeScript",zm="uniapp",Km="UniFi",qm="UNIX",Jm="UnoCSS",Xm="UPnP",Ym="Vercel",Zm="VideoLAN",Qm="VIM",eb="VirtualBox",tb="VitePress",nb="VividCortex",ob="VLC",rb="VMware",sb="VoIP",ab="VS Code",ib="VSCodium",lb="VuePress",cb="VueUse",ub="Vulkan",db="W3C",hb="Wasm",pb="watchOS",gb="WebAR",fb="WebAssembly",mb="WebGL",bb="WebGPU",vb="WebKit",yb="webpack",Cb="WebRTC",Eb="WebSocket",Sb="WebStorm",Ib="WebVR",_b="WebXR",wb="WeChat",Ob="WhatsApp",kb="WindiCSS",Tb="WireGuard",Pb="WordPress",Ab="XMind",Nb="XState",Lb="YApi",Fb={"1password":"1Password","3dtiles":"3DTiles",actionscript:Nh,adblock:Lh,ajax:Fh,alipay:Rh,amap:xh,angularjs:Vh,"ant design":"Ant Design","ant design vue":"Ant Design Vue",antd:$h,antdesign:Dh,antdesignvue:Mh,antv:Bh,apifox:Uh,"app store":"App Store","apple pay":"Apple Pay",applescript:jh,appletalk:Hh,arangodb:Gh,arcgis:Wh,arcmap:zh,arcobjects:Kh,beego:qh,bittorrent:Jh,busybox:Xh,centos:Yh,cesiumjs:Zh,chatgpt:Qh,citygml:ep,cityjson:tp,ckeditor:np,clashx:op,clickhouse:rp,cmake:sp,cockroachdb:ap,cocoapods:ip,codepen:lp,codesandbox:cp,coffeescript:up,commonjs:dp,"composition api":"Composition API",compositionapi:hp,coredns:pp,"css modules":"CSS Modules",dapr:gp,datadog:fp,datagrip:mp,dbase:bp,definitelytyped:vp,denodeploy:yp,"digital ocean":"DigitalOcean",digitalocean:Cp,dingtalk:Ep,directx:Sp,django:Ip,duckduckgo:_p,dynamodb:wp,echarts:Op,ecmascript:kp,edgedb:Tp,eggjs:Pp,elasticsearch:Ap,"element plus":"Element Plus",elementui:Np,esbuild:Lp,eslint:Fp,esxi:Rp,etcd:xp,facetime:Vp,fastapi:$p,ffmpeg:Dp,filezilla:Mp,firefox:Bp,freemarker:Up,gdnative:jp,gdscript:Hp,geforce:Gp,geojson:Wp,geopackage:zp,geopandas:Kp,geoserver:qp,gitbook:Jp,gitkraken:Xp,gltf:Yp,gnome:Zp,gnu:Qp,gnupg:eg,goland:tg,"google pay":"Google Pay",graphql:ng,greensock:og,grpc:rg,hackernews:sg,hacpai:ag,hbase:ig,hbuilderx:lg,ibook:cg,icloud:ug,idrac:dg,ilo:hg,imessage:pg,imovie:gg,imtoken:fg,influxdb:mg,intellij:bg,"intellij idea":"IntelliJ IDEA",ios:vg,ipados:yg,iphoto:Cg,iscsi:Eg,iterm:Sg,itunes:Ig,iwork:_g,javascript:wg,jetbrains:Og,jquery:kg,jsdoc:Tg,jupyterlab:Pg,katex:Ag,kubernetes:Ng,latex:Lg,less:Fg,libreoffice:Rg,"line pay":"LINE Pay",lineageos:xg,macos:Vg,mariadb:$g,markdown:Dg,markdownlint:Mg,mathieu:Bg,mathjax:Ug,mathml:jg,mathtype:Hg,matlab:Gg,mediawiki:Wg,memcached:zg,messagepack:Kg,metamask:qg,mkdocs:Jg,mlaas:Xg,mlops:Yg,mobx:Zg,mongodb:Qg,mongoose:ef,"ms-dos":"MS-DOS",mybatis:tf,mysql:nf,"naive ui":"Naive UI",naiveui:of,neo4j:rf,nestjs:sf,netbeans:af,netbios:lf,nextjs:cf,nixos:uf,nocodb:df,"node.js":"Node.js",nosql:hf,"notepad ++":"Notepad++",npm:pf,numpy:gf,nuxtjs:ff,oauth:mf,obs:bf,ocaml:vf,onedrive:yf,onenote:Cf,openai:Ef,openapi:Sf,opencv:If,openfaas:_f,openflow:wf,opengauss:Of,opengl:kf,"opengl es":"OpenGL ES",openjdk:Tf,openlayers:Pf,openpgp:Af,opensea:Nf,openssl:Lf,openstack:Ff,openstreetmap:Rf,opensuse:xf,openvino:Vf,openwrt:$f,opnsense:Df,pagp:Mf,paypal:Bf,photoshop:Uf,php:jf,phpstorm:Hf,pihole:Gf,planetscale:Wf,postcss:zf,postgis:Kf,postgresql:qf,potplayer:Jf,powerpoint:Xf,powershell:Yf,primevue:Zf,protobuf:Qf,pycharm:em,pytorch:tm,qtscript:nm,raii:om,"react native":"React Native",redhat:rm,redisearch:sm,redisjson:am,rescript:im,restful:lm,rethinkdb:cm,rsshub:um,rust:dm,rxdb:hm,rxjs:pm,"samsung pay":"Samsung Pay",sass:gm,scss:fm,segmentfault:mm,"socket.io":"Socket.IO",solarwinds:bm,spatiallite:vm,"spir-v":"SPIR-V",springboot:ym,springcloud:Cm,springmvc:Em,sqlite:Sm,sqlserver:Im,storybook:_m,stylus:wm,"sublime text":"Sublime Text",surrealdb:Om,sveltekit:km,"tailwind css":"Tailwind CSS",tailwindcss:Tm,teamviewer:Pm,tensorflow:Am,testflight:Nm,tex:Lm,threejs:Fm,tianocore:Rm,tidb:xm,tiflash:Vm,tiktok:$m,tikv:Dm,"travis ci":"Travis CI",trpc:Mm,tsdoc:Bm,tsdx:Um,turbopack:jm,turborepo:Hm,typeorm:Gm,typescript:Wm,uniapp:zm,unifi:Km,unix:qm,unocss:Jm,upnp:Xm,vercel:Ym,videolan:Zm,vim:Qm,virtualbox:eb,"visual studio":"Visual Studio","visual studio code":"Visual Studio Code",vitepress:tb,vividcortex:nb,vlc:ob,vmware:rb,voip:sb,"vs code":"VS Code","vs codium":"VSCodium",vscode:ab,vscodium:ib,"vue cli":"Vue CLI",vuepress:lb,vueuse:cb,vulkan:ub,w3c:db,wasm:hb,watchos:pb,"web assembly":"WebAssembly",webar:gb,webassembly:fb,webgl:mb,webgpu:bb,webkit:vb,webpack:yb,webrtc:Cb,websocket:Eb,webstorm:Sb,webvr:Ib,webxr:_b,wechat:wb,"wechat pay":"WeChat Pay",whatsapp:Ob,"windi css":"Windi CSS",windicss:kb,wireguard:Tb,wordpress:Pb,xmind:Ab,xstate:Nb,yapi:Lb};var Rb="@case-police-disable",xb=/@case-police-ignore\s+([^\s]+)/g,Vb="[-￿]",Nn={softwares:Fb,products:Ah,general:yh,brands:th,abbreviates:kd};function $b(e){const n=Object.keys(e);return new RegExp(`\\b(${n.join("|").replace(/\+/g,"\\+")})\\b`,"gi")}function Db(e,n,t=[],o,r){r=r||$b(n),Array.from(e.matchAll(xb)).forEach(l=>{const[,a]=l;t.push(...a.split(",").map(c=>c.trim().toLowerCase()).filter(Boolean))});const s=[];if(e=e.replace(r,(l,a,c)=>{if(Mb(e,a,c)||!a.match(/[A-Z]/)||!a.match(/[a-z]/))return l;const i=a.toLowerCase();if(t.includes(i))return l;const d=n[i];return!d||d===a?l:(s.push({from:a,to:d,index:c}),d)}),s.length)return{code:e,changed:s}}function Mb(e,n,t){const o=new RegExp(`${Vb}`),r=e.charAt(t-1),s=e.charAt(t+n.length);return o.test(r)||o.test(s)}function Bb(e){return e=e??Object.keys(Nn),e.reduce((n,t)=>({...n,...Nn[t]}),{})}var Ub=(e,n={})=>{if(e.includes(Rb))return;const t=(n.ignore||[]).map(r=>r.trim().toLowerCase()),o={...Bb(n.presets),...n.dict};return Db(e,o,t)};const jb={class:"mt-3 text-right"},Hb=y("span",{"i-carbon:rocket":"","mr-1":""},null,-1),Gb=L({__name:"CorrectCase",setup(e){const{data:n,setAndSyncToMonaco:t}=Oe(),o=cr(),r=async()=>{const s=n.markdown,l=Ub(s);t("markdown",(l==null?void 0:l.code)??s),o.correct(l==null?void 0:l.changed)};return(s,l)=>{const a=Gn,c=Wn,i=Hn,d=we,g=be;return O(),F(g,{text:s.$t("toolbar.correct_case.title"),icon:"i-icon-park-outline:check-correct"},{default:_(()=>[E(i,null,{default:_(()=>[E(a,null,{default:_(()=>[U(R(s.$t("toolbar.correct_case.example.title")),1)]),_:1}),E(c,null,{default:_(()=>[U(R(s.$t("toolbar.correct_case.example.content")),1)]),_:1})]),_:1}),E(i,{variant:"info",class:"mt-3"},{default:_(()=>[E(a,null,{default:_(()=>[U(R(s.$t("toolbar.correct_case.note.title")),1)]),_:1}),E(c,null,{default:_(()=>[U(R(s.$t("toolbar.correct_case.note.content")),1)]),_:1})]),_:1}),y("div",jb,[E(d,{onClick:r,size:"sm"},{default:_(()=>[Hb,U(" "+R(s.$t("toolbar.correct_case.btn")),1)]),_:1})])]),_:1},8,["text"])}}}),Wb={class:"flex w-72 h-full"},zb={id:"toolbar",class:"pane-container overflow-y-scroll hide-scrollbar bg-background","lt-lg":"bg-accent rounded-none"},Kb={flex:"center col none gap-1",border:"l dashed lg:none","w-10":"","bg-accent":""},qb=L({__name:"index",setup(e){const n=[{id:"file",icon:"i-carbon:import-export",component:ci},{id:"paper_size",icon:"i-majesticons:paper-fold-line",component:cl},{id:"theme_color",icon:"i-material-symbols:palette-outline",component:nc},{id:"font_family",icon:"i-material-symbols:font-download-outline",component:ic},{id:"font_size",icon:"i-ri:font-size-2",component:uc},{id:"margins",icon:"i-radix-icons:margin",component:fc},{id:"paragraph_spacing",icon:"i-icon-park-outline:paragraph-break-two",component:mc},{id:"line_height",icon:"i-ic:round-format-line-spacing",component:bc},{id:"correct_case",icon:"i-icon-park-outline:check-correct",component:Gb}],t=s=>{const l=document.querySelector("#toolbar"),a=document.querySelector(`#toolbar-${s}`);!l||!a||l.scrollTo({top:a.offsetTop-48,behavior:"smooth"})},{t:o}=Sr(),r=s=>{const l=`toolbar.${s}`;return["file","correct_case","font_family","margins"].includes(s)?o(`${l}.title`):o(l)};return(s,l)=>{const a=Dn,c=we,i=Un,d=Bn,g=Mn,p=jn;return O(),V("div",Wb,[y("div",zb,[(O(),V(he,null,Ge(n,(f,v)=>(O(),V(he,{key:f.id},[(O(),F(Ir(f.component),{id:`toolbar-${f.id}`},null,8,["id"])),v<n.length-1?(O(),F(a,{key:0,class:"w-[calc(100%-32px)] mx-auto"})):ze("",!0)],64))),64))]),y("div",Kb,[(O(),V(he,null,Ge(n,f=>E(p,{key:f.id,"delay-duration":0},{default:_(()=>[E(g,null,{default:_(()=>[E(i,{"as-child":""},{default:_(()=>[E(c,{size:"round",variant:"ghost-secondary",onClick:v=>t(f.id),"aria-label":r(f.id)},{default:_(()=>[y("span",{class:ce([f.icon," size-4"])},null,2)]),_:2},1032,["onClick","aria-label"])]),_:2},1024),E(d,{side:"left"},{default:_(()=>[U(R(r(f.id)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)),64))])])}}}),Jb={id:"editor-page",class:"flex flex-col"},Xb={class:"workspace flex pb-2"},Yb={key:1,class:"flex flex-col gap-y-2 h-full"},Zb={key:0,id:"tools-pane","lt-lg":"fixed z-10 max-w-full h-full right-0 top-12 pb-10"},rv=L({__name:"[id]",setup(e){const n=_r(),{data:t}=Oe();pt(()=>{ur(n.params.id,{allowString:!0})&&Vt.switchToResume(Number(n.params.id))});const{width:o}=wr(),r=W(o.value>1024);return(s,l)=>{const a=we,c=Zo,i=Ar,d=Ln,g=er,p=tr,f=Hr,v=Qo,u=qb;return O(),V("div",Jb,[E(c,null,{tail:_(()=>[E(a,{variant:"ghost-secondary",size:"round",onClick:l[0]||(l[0]=h=>r.value=!m(r)),"aria-label":m(r)?s.$t("close_toolbar"):s.$t("open_toolbar")},{default:_(()=>[y("span",{class:ce(["size-4.5",m(r)?"i-tabler:layout-sidebar-right-collapse":"i-tabler:layout-sidebar-right-expand"])},null,2)]),_:1},8,["aria-label"])]),_:1}),y("div",Xb,[E(v,{id:"splitter-editor",direction:"horizontal",class:"px-3"},{default:_(()=>[E(g,{id:"code-pane"},{default:_(()=>[m(t).loaded?(O(),F(i,{key:0})):(O(),V("div",Yb,[E(d,{class:"h-10 bg-secondary"}),E(d,{class:"flex-1 bg-secondary"})]))]),_:1}),E(p,{id:"code-preview-handle",class:"w-3 relative after:content-[''] after:absolute after:bg-gray-400/40 after:w-1 after:h-10 after:rounded-full after:inset-0 after:m-auto"}),E(g,{id:"preview-pane"},{default:_(()=>[m(t).loaded?(O(),F(f,{key:0})):(O(),F(d,{key:1,class:"size-full bg-secondary"}))]),_:1})]),_:1}),m(r)?(O(),V("div",Zb,[m(t).loaded?(O(),F(u,{key:0})):(O(),F(d,{key:1,class:"h-full w-62 bg-secondary mr-10"}))])):ze("",!0)])])}}});export{rv as default};
